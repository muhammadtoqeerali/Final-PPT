<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhD Final Presentation - Muhammad Toqeer Ali</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            color: #333;
            overflow: hidden;
        }

        .presentation-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Logo styling */
        .logo-container {
            position: fixed;
            top: 10px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1001;
            height: 60px;
        }

        .university-logo {
            height: 100px;
            position: center;
            width: auto;
        }
        .PNRR-logo {
            height: 80px;
            width: auto;
        }

        .team-logo {
            height: 100px;
            width: auto;
        }

        /* Adjust slide content to avoid logo overlap */
        .slide {
            margin-top: 70px;
            height: calc(85vh - 70px);
        }

        .slide {
            width: 90vw;
            height: 85vh;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            padding: 40px;
            display: none;
            animation: slideIn 0.8s ease-out;
            position: relative;
            overflow-y: auto;
        }

        .slide.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-content > * {
            animation: fadeInUp 1s ease-out;
            animation-fill-mode: both;
        }

        .slide-content > *:nth-child(1) { animation-delay: 0.1s; }
        .slide-content > *:nth-child(2) { animation-delay: 0.2s; }
        .slide-content > *:nth-child(3) { animation-delay: 0.3s; }
        .slide-content > *:nth-child(4) { animation-delay: 0.4s; }
        .slide-content > *:nth-child(5) { animation-delay: 0.5s; }

        .slide-header {
            border-bottom: 3px solid #2c5aa0;
            padding-bottom: 15px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .slide-number {
            background: #2c5aa0;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        h1 {
            font-size: 2.5em;
            color: #2c5aa0;
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            font-size: 2em;
            color: #2c5aa0;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }

        h3 {
            font-size: 1.4em;
            color: #444;
            margin: 20px 0 15px 0;
        }

        .university-header {
            text-align: center;
            margin-bottom: 30px;
            color: #2c5aa0;
            font-size: 1.1em;
            font-weight: 600;
        }

        .title-slide {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }

        .main-title {
            font-size: 3em;
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.5em;
            color: #666;
            margin-bottom: 40px;
        }

        .author-info {
            font-size: 1.2em;
            color: #444;
            margin-bottom: 20px;
        }

        .author-info strong {
            color: #2c5aa0;
        }

        .bullet-point {
            display: flex;
            align-items: flex-start;
            margin: 15px 0;
            padding: 10px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }


        /* Advanced Comment System Styles */
        .floating-comment-btn {
            position: fixed;
            bottom: 400px;
            right: 20px;
            left: 90%;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: white;
            box-shadow: 0 8px 25px rgba(255,107,107,0.4);
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .floating-comment-btn:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 12px 35px rgba(255,107,107,0.5);
        }
        .comment-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            font-size: 12px;
            font-weight: bold;
            display: none;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }

        .comment-badge.show { display: flex; }

        .comment-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            z-index: 9999;
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
        }

        .comment-overlay.active { display: flex; }

        .comment-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 500px;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            to { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .comment-panel h3 {
            color: #2c5aa0;
            font-size: 1.5em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .close-btn {
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #ff3742;
            transform: scale(1.1);
        }

        .comment-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .comment-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            border-left: 4px solid #2c5aa0;
        }

        .comment-item:hover {
            background: #e8f4f8;
            transform: translateX(5px);
        }

        .comment-author {
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 5px;
        }

        .comment-time {
            font-size: 0.85em;
            color: #6c757d;
            margin-bottom: 8px;
        }

        .comment-text {
            color: #495057;
            line-height: 1.5;
        }

        .comment-form {
            border-top: 1px solid #e9ecef;
            padding-top: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #495057;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #2c5aa0;
            box-shadow: 0 0 0 3px rgba(44,90,160,0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: #2c5aa0;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3f70;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        .admin-controls {
            position: fixed;
            top: 400px;
            left: 1650px;
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            z-index: 1000;
            min-width: 200px;
        }

        .admin-controls h4 {
            margin-bottom: 10px;
            color: #2c5aa0;
            font-size: 14px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            margin-right: 10px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2c5aa0;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .no-comments {
            text-align: center;
            color: #6c757d;
            font-style: italic;
            padding: 40px 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 20px 0;
        }

        /* Hide comments in presentation mode */
        .presentation-mode .admin-controls,
        .presentation-mode .floating-comment-btn {
            display: none !important;
        }

        .comments-disabled .floating-comment-btn {
            display: none !important;
        }

        .bullet-point:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
            transition: all 0.3s ease;
        }

        .bullet-icon {
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .highlight-box {
            background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
            border-left: 5px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .achievement-box {
            background: linear-gradient(135deg, #e8f5e8, #fff3e0);
            border-left: 5px solid #4caf50;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .performance-metric {
            display: inline-block;
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            margin: 10px;
            font-size: 1.1em;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .performance-metric:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .methodology-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .flow-step {
            background: white;
            border: 3px solid #2c5aa0;
            border-radius: 15px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            flex: 1;
            min-width: 200px;
            position: relative;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(44,90,160,0.3);
        }

        .flow-step::after {
            content: "→";
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #2c5aa0;
            font-weight: bold;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .nav-btn {
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .slide-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: #2c5aa0;
            backdrop-filter: blur(10px);
        }

        .timeline {
            position: relative;
            margin: 30px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, #2c5aa0, #764ba2);
        }

        .timeline-item {
            position: relative;
            padding: 20px 0 20px 80px;
            margin: 20px 0;
        }

        .timeline-marker {
            position: absolute;
            left: 18px;
            top: 25px;
            width: 24px;
            height: 24px;
            background: #2c5aa0;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 0 3px #2c5aa0;
        }

        .timeline-year {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 10px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .comparison-table th {
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-size: 1.1em;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
            transition: background-color 0.3s ease;
        }

        .comparison-table tr:hover td {
            background-color: #f8f9fa;
        }

        .impact-metric {
            text-align: center;
            margin: 20px;
        }

        .metric-number {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-label {
            font-size: 1.2em;
            color: #666;
            margin-top: 10px;
        }

        .conclusion-highlight {
            background: linear-gradient(135deg, #fff3e0, #e8f5e8);
            border: 2px solid #4caf50;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .conclusion-highlight::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(76,175,80,0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .publication-card {
            background: white;
            border: 2px solid #2c5aa0;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .publication-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .award-badge {
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            color: #8b6914;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin: 10px 0;
            border: 2px solid #f1c40f;
        }

        /* Citation styles */
        .citation, cite {
            color: #2c5aa0;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 3px;
            transition: background-color 0.3s ease;
        }

        .citation:hover, cite:hover {
            background-color: #e8f4f8;
            text-decoration: underline;
        }

        /* NEW CSS FOR TOC GRID - ADD THIS */
        .toc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .toc-section {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .toc-section h3 {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: #2c5aa0;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 10px;
        }

        .toc-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }
        /* Figure improvements */
        .figure-placeholder {
            border: 2px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            background-color: #f8f9fa;
            font-weight: bold;
            border-radius: 10px;
        }

        .figure-placeholder img {
            max-width: 100%;
            height: auto;
            border: 2px solid #2c5aa0;
            border-radius: 5px;
        }

        .figure-caption {
            text-align: center;
            font-style: italic;
            font-size: 11pt;
            margin: 10px 0 20px 0;
        }


        /* Print styles for handouts */
        @media print {
            body {
                background: white !important;
                overflow: visible !important;
            }
            
            .slide {
                display: block !important;
                width: 100% !important;
                height: auto !important;
                page-break-after: always;
                box-shadow: none !important;
                border: 1px solid #ccc;
                margin-bottom: 20px;
            }
            
            .navigation, .slide-indicator, .admin-controls, .floating-comment-btn, .comment-overlay {
                display: none !important;
            }
            
            .slide-header {
                border-bottom: 2px solid #2c5aa0 !important;
            }
            
            h1, h2, h3 {
                color: #000 !important;
            }
            
            .bullet-icon {
                background: #2c5aa0 !important;
                color: white !important;
            }
            
            .performance-metric {
                background: #f0f0f0 !important;
                color: #000 !important;
                border: 1px solid #ccc !important;
            }
        }

        /* Presentation mode styles */
        .presentation-mode .navigation {
            transition: opacity 0.3s ease;
        }

        .presentation-mode .slide-indicator {
            transition: opacity 0.3s ease;
        }

        /* Enhanced animations */
        .conclusion-slide .conclusion-highlight {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .slide {
                width: 98vw;
                height: 95vh;
                padding: 20px;
            }
            
            .navigation {
                bottom: 10px;
                gap: 10px;
            }
            
            .nav-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .main-title {
                font-size: 2em !important;
            }
            
            .methodology-flow {
                flex-direction: column;
            }
            
            .flow-step {
                margin: 5px;
            }
            
            .impact-metric {
                margin: 5px;
                padding: 10px 15px;
                font-size: 1em;
            }

            .floating-comment-btn {
                width: 60px;
                height: 60px;
                font-size: 20px;
                bottom: 80px;
                right: 20px;
            }
            
            .admin-controls {
                top: 10px;
                left: 10px;
                padding: 10px;
                min-width: 150px;
            }

            .comment-panel {
                width: 95vw;
                padding: 20px;
            }
        }

        @media (max-width: 1200px) {
            .slide {
                width: 95vw;
                height: 90vh;
                padding: 30px;
            }
            
            .main-title {
                font-size: 2.5em;
            }
            
            .methodology-flow {
                flex-direction: column;
            }
            
            .flow-step::after {
                content: "↓";
                right: 50%;
                bottom: -25px;
                top: auto;
                transform: translateX(50%);
            }
        }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: white;
        color: #333;
        overflow: hidden;
    }


    .slide-header {
        border-bottom: 3px solid #2c5aa0;
        padding-bottom: 15px;
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .slide-number {
        background: #2c5aa0;
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: bold;
    }

    .story-container {
        width: 100%;
        height: calc(85vh - 140px);
        position: relative;
        display: flex;
        flex-direction: column;
    }

    .story-header {
        text-align: center;
        padding: 20px 0;
        margin-bottom: 20px;
    }

    .story-header h1 {
        font-size: 2.2em;
        color: #2c5aa0;
        margin-bottom: 10px;
    }

    .story-header p {
        font-size: 1.1em;
        color: #666;
    }

    .story-stage {
        flex: 1;
        display: grid;
        grid-template-columns: 1fr 1.3fr 1fr;
        gap: 25px;
        height: calc(100% - 120px);
    }

    .section {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border: 2px solid #2c5aa0;
        border-radius: 15px;
        padding: 20px;
        position: relative;
        overflow: visible;
        box-shadow: 0 4px 8px rgba(44,90,160,0.1);
    }

    .section-title {
        font-size: 1.4em;
        margin-bottom: 20px;
        text-align: center;
        color: #2c5aa0;
        font-weight: bold;
        border-bottom: 2px solid #e0e0e0;
        padding-bottom: 10px;
    }

    /* Data Section */
    .sample-data {
        display: flex;
        gap: 15px;
        margin: 20px 0;
        justify-content: center;
    }

    .data-point {
        width: 80px;
        height: 90px;
        background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
        border: 3px solid #2c5aa0;
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: 0.9em;
        transition: all 0.5s ease;
        position: relative;
        box-shadow: 0 2px 8px rgba(44,90,160,0.2);
    }

    .data-point.highlight {
        background: linear-gradient(135deg, #fff3e0, #ffebee);
        border-color: #ff6b6b;
        transform: scale(1.1);
        box-shadow: 0 8px 16px rgba(255,107,107,0.3);
    }

    .confidence-value {
        font-weight: bold;
        color: #2c5aa0;
        font-size: 1.2em;
    }

    .segment-label {
        font-size: 0.8em;
        color: #666;
        margin-top: 5px;
    }

    .scenario-info {
        text-align: center;
        background: linear-gradient(135deg, #e8f4f8, #f3e5f5);
        border: 1px solid #2c5aa0;
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
        font-size: 1em;
        color: #333;
    }

    /* Calculations Section */
    .calculation-display {
        background: linear-gradient(135deg, #f8f9fa, #ffffff);
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 20px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        font-size: 1em;
        height: calc(100% - 120px);
        overflow: visible;
        box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    }

    .calculation-step {
        margin: 15px 0;
        opacity: 0;
        transform: translateX(-20px);
        transition: all 0.6s ease;
        padding: 10px;
        border-radius: 8px;
        line-height: 1.5;
        color: #333;
    }

    .calculation-step.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .calculation-step.highlight {
        background: linear-gradient(135deg, #fff3e0, #e8f5e8);
        border-left: 4px solid #2c5aa0;
        padding-left: 15px;
        box-shadow: 0 2px 8px rgba(44,90,160,0.1);
    }

    .formula {
        color: #2c5aa0;
        font-weight: bold;
        font-size: 1.1em;
    }

    .result-value {
        color: #ff6b6b;
        font-weight: bold;
        font-size: 1.2em;
        background: linear-gradient(135deg, #fff3e0, #ffebee);
        padding: 2px 8px;
        border-radius: 5px;
    }

    /* Results Section */
    .feature-result {
        background: linear-gradient(135deg, #e8f4f8, #f3e5f5);
        border: 2px solid #2c5aa0;
        border-radius: 10px;
        padding: 15px;
        margin: 12px 0;
        text-align: center;
        transform: scale(0);
        transition: all 0.6s ease;
        box-shadow: 0 2px 8px rgba(44,90,160,0.1);
    }

    .feature-result.show {
        transform: scale(1);
    }

    .feature-result:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(44,90,160,0.2);
    }

    .feature-name {
        font-size: 1em;
        color: #2c5aa0;
        font-weight: bold;
    }

    .feature-value {
        font-size: 1.6em;
        color: #ff6b6b;
        font-weight: bold;
        margin: 5px 0;
    }

    .feature-explanation {
        font-size: 0.8em;
        color: #666;
    }

    /* Final Decision Display */
    .final-decision {
        background: linear-gradient(135deg, #e8f4f8, #f3e5f5);
        border: 3px solid #2c5aa0;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        text-align: center;
        transform: scale(0);
        transition: all 0.8s ease;
        box-shadow: 0 4px 12px rgba(44,90,160,0.2);
    }

    .final-decision.show {
        transform: scale(1);
    }

    .final-decision.falling {
        border-color: #ff6b6b;
        background: linear-gradient(135deg, #fff3e0, #ffebee);
    }

    .final-decision.activity {
        border-color: #4caf50;
        background: linear-gradient(135deg, #e8f5e8, #f3e5f5);
    }

    .decision-label {
        font-size: 1.3em;
        margin-bottom: 15px;
        color: #2c5aa0;
        font-weight: bold;
    }

    .decision-result {
        font-size: 2.8em;
        font-weight: bold;
        margin: 15px 0;
    }

    .decision-confidence {
        font-size: 1.1em;
        margin-top: 15px;
        color: #666;
    }

    /* Control Panel */
    .control-panel {
        position: fixed;
        bottom: 10px;
        left: 20%;
        transform: translateX(-50%);
        display: flex;
        gap: 15px;
        z-index: 1000;
    }
    .control-btn {
        background: linear-gradient(135deg, #2c5aa0, #764ba2);
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1em;
        box-shadow: 0 4px 8px rgba(44,90,160,0.3);
    }

    .control-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(44,90,160,0.4);
    }

    /* Math Character */
    .math-character {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #2c5aa0, #764ba2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        transition: all 0.8s ease;
        z-index: 10;
        box-shadow: 0 4px 8px rgba(44,90,160,0.3);
    }

    .math-character.working {
        animation: spin 2s linear infinite;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* Progress bar */
    .progress-container {
        margin: 20px 0;
    }

    .progress-bar {
        width: 100%;
        height: 8px;
        background: #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
        border: 1px solid #2c5aa0;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #2c5aa0, #764ba2);
        width: 0%;
        transition: width 0.8s ease;
    }
    /* Decision Rules Styles */
    .decision-rules {
        background: linear-gradient(135deg, #f8f9fa, #e8f4f8);
        border: 2px solid #2c5aa0;
        border-radius: 10px;
        padding: 12px;
        margin: 15px 0;
        font-size: 0.8em;
    }

    .rule-item {
        display: flex;
        align-items: center;
        margin: 6px 0;
        padding: 6px 8px;
        border-radius: 6px;
        transition: all 0.3s ease;
    }

    .rule-item:hover {
        transform: translateX(3px);
    }

    .falling-rule {
        background: rgba(255, 107, 107, 0.1);
        border-left: 3px solid #ff6b6b;
    }

    .activity-rule {
        background: rgba(76, 175, 80, 0.1);
        border-left: 3px solid #4caf50;
    }

    .key-insight {
        background: rgba(44, 90, 160, 0.1);
        border-left: 3px solid #2c5aa0;
    }

    .rule-label {
        font-weight: bold;
        min-width: 70px;
        color: #333;
        font-size: 0.85em;
    }

    .rule-formula {
        font-family: 'Courier New', monospace;
        background: rgba(255, 255, 255, 0.7);
        padding: 2px 6px;
        border-radius: 4px;
        margin: 0 8px;
        color: #2c5aa0;
        font-weight: bold;
        flex: 1;
    }

    .rule-description {
        color: #666;
        font-style: italic;
        font-size: 0.75em;
        min-width: 100px;
    }
     
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(50px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

        /* Pipeline Animation Styles */
        .pipeline-container {
            position: relative;
            width: 100%;
            height: calc(100% - 100px);
            overflow: visible;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 15px;
            z-index: 1;
        }


        .data-packet {
            position: absolute;
            top: 50px;
            left: 50px;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            opacity: 0;
            transform: scale(0);
            transition: all 0.8s ease;
            z-index: 200;
        }

        .data-packet.active {
            opacity: 1;
            transform: scale(1);
        }

        .data-packet.moving {
            transition: all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .packet-icon {
            font-size: 1.5em;
            margin-bottom: 2px;
        }

        .packet-label {
            font-size: 0.7em;
            text-align: center;
        }

        .pipeline-stage {
            position: absolute;
            background: white;
            border: 2px solid #2c5aa0;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(44, 90, 160, 0.1);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
            z-index: 10;
        }


        .pipeline-stage.active {
            opacity: 1;
            transform: translateY(0);
        }

        .pipeline-stage.highlight {
            border-color: #ff6b6b;
            box-shadow: 0 0 25px rgba(255, 107, 107, 0.6);
            transform: scale(1.05);
        }

        /* Stage Positioning - Row 1: All stages 1-4, Row 2: Stage 5 centered */
        /* First Row: Stages 1, 2, 3, 4 */
        .stage-1 {
            top: 30px; left: 30px;  width: 220px; height: 190px;
        }

        .stage-2 {
            top: 30px; left: 370px; width: 280px; height: 190px;
        }

        .stage-3 {
            top: 30px; left: 700px; width: 580px; height: 190px;

        }

        .stage-4 {
            top: 30px; left: 1300px; width: 320px; height: 190px;
        }

        /* Second Row: Stage 5 centered with large gap */
        .stage-5 {
            top: 380px;          /* ← was 280px */
            left: 600px;
            width: 400px;
           height: 200px; 
        }

        .stage-header {
            text-align: center;
            margin-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 8px;
        }

        .stage-header h3 {
            font-size: 1.2em;
            color: #2c5aa0;
            margin: 0;
        }

        .stage-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: calc(100% - 50px);
        }

        /* Stage 1: Data Acquisition */
        .human-body {
            position: relative;
            margin: 10px 0;
        }

        .body-icon {
            font-size: 3em;
            color: #2c5aa0;
        }

        .sensor-position {
            position: absolute;
            top: 10px;
            right: -10px;
            font-size: 1.2em;
            animation: sensorPulse 2s infinite;
        }

        @keyframes sensorPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        .data-streams {
            display: flex;
            gap: 15px;
            margin: 10px 0;
        }

        .stream {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .stream-label {
            font-size: 0.8em;
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 5px;
        }

        .stream-waves {
            width: 60px;
            height: 20px;
            background: linear-gradient(90deg, #2c5aa0, #764ba2);
            border-radius: 3px;
            animation: waveFlow 1.5s infinite;
        }

        @keyframes waveFlow {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Stage 2: Signal Processing */
        .processing-chain {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }

        .process-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
            border: 2px solid #2c5aa0;
            border-radius: 10px;
            min-width: 80px;
            text-align: center;
        }

        .box-icon {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .box-label {
            font-size: 0.8em;
            font-weight: bold;
            color: #2c5aa0;
        }

        .box-detail {
            font-size: 0.7em;
            color: #666;
            margin-top: 2px;
        }

        .arrow {
            font-size: 1.5em;
            color: #2c5aa0;
            font-weight: bold;
        }

        /* Stage 3: CNN */
        .cnn-pipeline {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        /* Stage 3: CNN Training Updates - Smaller sizing */
        .cnn-pipeline {
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 8px 0;
        }

        .segmented-data {
            text-align: center;
            padding: 6px;
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 6px;
            min-width: 70px;
            max-width: 70px;
        }

        .segment-info {
            font-size: 0.7em;
            font-weight: bold;
            color: #2196f3;
            margin-bottom: 1px;
        }

        .segment-detail {
            font-size: 0.6em;
            color: #666;
        }

        .augmentation-block {
            text-align: center;
            padding: 6px;
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 6px;
            max-width: 90px;
        }

        .aug-title {
            font-size: 0.7em;
            font-weight: bold;
            color: #ff9800;
            margin-bottom: 4px;
        }

        .aug-methods {
            display: flex;
            gap: 2px;
            margin-bottom: 3px;
            justify-content: center;
        }

        .aug-method {
            background: #ff9800;
            color: white;
            padding: 1px 3px;
            border-radius: 2px;
            font-size: 0.55em;
            font-weight: bold;
        }

        .aug-note {
            font-size: 0.55em;
            color: #666;
            font-style: italic;
            line-height: 1.0;
        }

        .cnn-training-block {
            text-align: center;
            padding: 6px;
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 6px;
            min-width: 80px;
            max-width: 90px;
        }

        .cnn-title {
            font-size: 0.7em;
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 4px;
        }

        .cnn-layers {
            display: flex;
            flex-direction: column;
            gap: 1px;
            margin-bottom: 4px;
        }

        .layer {
            background: #4caf50;
            color: white;
            padding: 1px 4px;
            border-radius: 2px;
            font-size: 0.55em;
            font-weight: bold;
        }

        .cv-info {
            font-size: 0.6em;
            color: #4caf50;
            margin: 2px 0;
            font-weight: bold;
        }

        .cnn-output {
            font-size: 0.65em;
            color: #4caf50;
            font-weight: bold;
            margin-top: 2px;
        }

        /* Stage 4: Event-Level Updates - Compact for row 1 */
        .event-pipeline {
            display: flex;
            align-items: center;
            gap: 4px;
            margin: 6px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .cnn-outputs {
            text-align: center;
            padding: 4px;
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 6px;
            min-width: 50px;
            max-width: 60px;
        }

        .outputs-title {
            font-size: 0.6em;
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 3px;
        }

        .model-outputs {
            display: flex;
            flex-direction: column;
            gap: 1px;
        }

        .fold-output {
            background: #4caf50;
            color: white;
            padding: 1px 2px;
            border-radius: 1px;
            font-size: 0.5em;
            font-weight: bold;
        }

        .prob-processing {
            text-align: center;
            padding: 4px;
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 6px;
            min-width: 50px;
            max-width: 60px;
        }

        .prob-title {
            font-size: 0.6em;
            font-weight: bold;
            color: #2196f3;
            margin-bottom: 3px;
        }

        .prob-values {
            display: flex;
            gap: 2px;
            justify-content: center;
        }

        .prob-val {
            background: #2196f3;
            color: white;
            padding: 2px 4px;
            border-radius: 2px;
            font-size: 0.6em;
            font-weight: bold;
        }

        .feature-extraction {
            text-align: center;
            padding: 4px;
            background: #f3e5f5;
            border: 2px solid #9c27b0;
            border-radius: 6px;
            max-width: 100px;
            min-width: 90px;
        }

        .feature-title {
            font-size: 0.6em;
            font-weight: bold;
            color: #9c27b0;
            margin-bottom: 3px;
        }

        .feature-list {
            display: flex;
            flex-direction: column;
            gap: 0px;
        }

        .feature {
            font-size: 0.5em;
            color: #9c27b0;
            font-weight: 500;
            text-align: left;
            padding: 0px 1px;
        }

        .rf-training-block {
            text-align: center;
            padding: 4px;
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 6px;
            min-width: 60px;
            max-width: 70px;
        }

        .rf-title {
            font-size: 0.6em;
            font-weight: bold;
            color: #ff9800;
            margin-bottom: 2px;
        }

        .rf-icon {
            font-size: 1.0em;
            margin-bottom: 2px;
        }

        .rf-cv {
            font-size: 0.55em;
            color: #ff9800;
            margin: 2px 0;
            font-weight: bold;
        }

        .rf-output {
            font-size: 0.6em;
            color: #ff9800;
            font-weight: bold;
            margin-top: 2px;
        }

        .augmentation-block {
            text-align: center;
            padding: 10px;
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 10px;
        }

        .aug-title {
            font-size: 0.9em;
            font-weight: bold;
            color: #ff9800;
            margin-bottom: 8px;
        }

        .aug-methods {
            display: flex;
            gap: 5px;
            margin-bottom: 5px;
        }

        .aug-method {
            background: #ff9800;
            color: white;
            padding: 3px 6px;
            border-radius: 5px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .aug-note {
            font-size: 0.7em;
            color: #666;
            font-style: italic;
        }

        .cnn-block {
            text-align: center;
            padding: 10px;
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
        }

        .cnn-layers {
            display: flex;
            flex-direction: column;
            gap: 3px;
            margin-bottom: 8px;
        }

        .layer {
            background: #4caf50;
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .cnn-output {
            font-size: 0.8em;
            color: #4caf50;
            font-weight: bold;
        }

        /* Stage 4: Event Features */
        .event-pipeline {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .prob-trace {
            text-align: center;
            padding: 10px;
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
        }

        .trace-title {
            font-size: 0.8em;
            font-weight: bold;
            color: #2196f3;
            margin-bottom: 8px;
        }

        .prob-values {
            display: flex;
            gap: 8px;
        }

        .prob-val {
            background: #2196f3;
            color: white;
            padding: 5px 8px;
            border-radius: 5px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .feature-extraction {
            text-align: center;
            padding: 10px;
            background: #f3e5f5;
            border: 2px solid #9c27b0;
            border-radius: 10px;
            max-width: 180px;
        }

        .feature-title {
            font-size: 0.8em;
            font-weight: bold;
            color: #9c27b0;
            margin-bottom: 8px;
        }

        .feature-list {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .feature {
            font-size: 0.65em;
            color: #9c27b0;
            font-weight: 500;
            text-align: left;
        }

        .rf-block {
            text-align: center;
            padding: 10px;
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
        }

        .rf-icon {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .rf-label {
            font-size: 0.9em;
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 5px;
        }

        .rf-params {
            font-size: 0.7em;
            color: #666;
        }

        /* Stage 5: Deployment */
        .deployment-chain {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .stm32-chip {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            color: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(44, 90, 160, 0.3);
        }

        .chip-icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .chip-label {
            font-size: 0.9em;
            font-weight: bold;
        }

        .deployment-flow {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .flow-step {
            background: #e3f2fd;
            border: 1px solid #2c5aa0;
            color: #2c5aa0;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .flow-step.decision {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            border-color: #4caf50;
        }

        .flow-arrow {
            font-size: 1.2em;
            color: #2c5aa0;
            font-weight: bold;
        }

        .latency-info {
            text-align: center;
            padding: 10px;
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 10px;
        }

        .latency-value {
            font-size: 1em;
            font-weight: bold;
            color: #ff9800;
            margin-bottom: 3px;
        }

        .latency-label {
            font-size: 0.8em;
            color: #666;
        }

        .stage-params {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .param {
            background: #2c5aa0;
            color: white;
            padding: 4px 8px;
            border-radius: 5px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .animation-controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 300;
        }

        .control-btn {
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            box-shadow: 0 4px 8px rgba(44,90,160,0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(44,90,160,0.4);
        }

        /* Animation States */
        @keyframes dataFlow {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(var(--target-x)) translateY(var(--target-y)); }
        }

        @keyframes stageActivate {
            0% { 
                opacity: 0; 
                transform: translateY(30px) scale(0.9); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        @keyframes pulseHighlight {
            0%, 100% { 
                border-color: #2c5aa0; 
                box-shadow: 0 4px 12px rgba(44, 90, 160, 0.1); 
            }
            50% { 
                border-color: #ff6b6b; 
                box-shadow: 0 0 25px rgba(255, 107, 107, 0.6); 
            }
        }

        /* Navigation */
        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 400;
        }

        .nav-btn {
            background: linear-gradient(135deg, #2c5aa0, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

                        /* NEEEEW==== Augmentation baseline card + badges ==== */
        .baseline-box{
          border:2px dashed #bdbdbd;
          border-radius:8px;
          padding:6px 8px;
          margin-bottom:6px;
          background:#fffdf7;
        }
        .baseline-title{
          font-size:.58em; font-weight:700; color:#795548; margin-bottom:4px; text-transform:uppercase;
        }
        .base-list{display:flex; flex-wrap:wrap; gap:4px; justify-content:center}
        .base-chip{
          font-size:.55em; background:#ffe0b2; color:#6d4c41; padding:2px 6px; border-radius:999px; border:1px solid #ffcc80;
        }
        .sep-label{
          font-size:.58em; color:#9e9e9e; text-transform:uppercase; letter-spacing:.06em; margin:3px 0 4px; border-top:1px dashed #e0e0e0; padding-top:4px;
        }

        /* small badges we’ll reuse */
        .badge{
          display:inline-block; background:#e3f2fd; color:#1565c0; border:1px solid #90caf9;
          padding:2px 6px; border-radius:999px; font-size:.6em; font-weight:700;
        }

        /* tiny input ribbon for Stage 5 */
        .input-ribbon{
          position:absolute; top:6px; left:10px;
          background:linear-gradient(135deg,#2c5aa0,#764ba2); color:#fff;
          padding:3px 8px; border-radius:6px; font-size:.62em; font-weight:700; box-shadow:0 2px 6px rgba(0,0,0,.15);
        }

        /* ===== Stage 3: 2x2 grid layout ===== */
        /* ===== Stage 3: single row 4-column layout ===== */
        .stage3-row{
          max-width:1000px; margin:0 auto;
          border:2px solid #244e9b; border-radius:16px;
          background:#fff; box-shadow:0 8px 18px rgba(0,0,0,.08);
          padding:14px 18px;
        }
        .stage3-row .hdr{
          text-align:center; font-weight:800; color:#244e9b; margin-bottom:12px; font-size:1.05rem
        }
        .stage3-row .grid{
          display:grid; grid-template-columns:repeat(4,1fr); gap:14px;
        }

        .s3-card{
          border-radius:12px; padding:10px; color:#fff; text-align:center;
          font-size:.85rem; font-weight:700; display:flex; flex-direction:column; justify-content:center; align-items:center;
        }
        .s3-sub{font-size:.72rem; font-weight:400; margin-top:2px}
        .pills{display:flex; flex-wrap:wrap; gap:6px; justify-content:center; margin-top:6px}
        .pill{background:rgba(255,255,255,.2); border:1px solid rgba(255,255,255,.5); padding:2px 8px; border-radius:999px; font-size:.7rem; font-weight:600}

        .cv{background:linear-gradient(180deg,#ffb74d,#fb8c00)}
        .aug{background:linear-gradient(180deg,#64b5f6,#1976d2)}
        .adv{background:linear-gradient(180deg,#b39ddb,#7e57c2)}
        .trn{background:linear-gradient(180deg,#81c784,#43a047)}

        .badge{background:#fff3e0;color:#e65100;border:1px solid #ffcc80;padding:1px 6px;border-radius:999px;font-size:.7rem;font-weight:700;margin-top:4px}

        .stage3-note{font-size:.72rem;color:#2e7d32;background:#e8f5e9;border:1px solid #c8e6c9;padding:4px 8px;border-radius:8px;display:inline-block;margin:6px auto 0}

        /* --- connectors between the four Stage-3 cards (no layout impact) --- */
        :root{
          --s3-gap: 14px;          /* keep in sync with .stage3-row .grid gap */
          --s3-line: rgba(0,0,0,.22);
          --s3-head: rgba(0,0,0,.38);
        }

        .stage3-row .grid{
          position: relative;
          gap: var(--s3-gap);      /* already set; just make sure we use the var */
        }

        .s3-card{
          position: relative;      /* host the pseudo-elements */
          z-index: 1;              /* above the white background frame */
        }

        /* horizontal connector line (appears in the gap), for cards 1..3 only */
        .s3-card:not(:last-child)::before{
          content: "";
          position: absolute;
          top: 50%;
          right: calc(-1 * var(--s3-gap) / 2 - 14px);  /* extends into the gap */
          width: calc(var(--s3-gap) / 2 + 14px);
          height: 2px;
          background: var(--s3-line);
          transform: translateY(-50%);
          pointer-events: none;
          z-index: 2;
        }

        /* arrow head at the end of each connector */
        .s3-card:not(:last-child)::after{
          content: "";
          position: absolute;
          top: 50%;
          right: calc(-1 * var(--s3-gap) / 2 - 6px);
          width: 10px; height: 10px;
          border-right: 3px solid var(--s3-head);
          border-top: 3px solid var(--s3-head);
          transform: translateY(-50%) rotate(45deg);
          pointer-events: none;
          z-index: 2;
        }

        /* Optional: mute/hide connectors on narrow screens where cards might wrap */
        @media (max-width: 1100px){
          .s3-card::before,
          .s3-card::after{ display: none; }
        }


  /* New */



        .controls {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 32px;
        }

        .method-btn {
            padding: 12px 24px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            background: white;
            color: #64748b;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .method-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .method-btn.active {
            border-color: #3b82f6;
            background: #3b82f6;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59,130,246,0.3);
        }

        .method-btn[data-method="gan"].active {
            border-color: #f97316;
            background: #f97316;
            box-shadow: 0 4px 12px rgba(249,115,22,0.3);
        }

        .method-btn[data-method="hybrid"].active {
            border-color: #8b5cf6;
            background: #8b5cf6;
            box-shadow: 0 4px 12px rgba(139,92,246,0.3);
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px 16px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .stat-card.synthetic-highlight {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 1px solid #22c55e;
            position: relative;
            overflow: hidden;
        }

        .stat-card.synthetic-highlight::before {
            background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
        }

        .stat-card.synthetic-highlight::after {
            content: '✨';
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 1.2em;
            opacity: 0.7;
            animation: sparkle 2s infinite;
        }

        .synthetic-value {
            color: #16a34a !important;
            text-shadow: 0 1px 2px rgba(22, 163, 74, 0.2);
            font-weight: 800 !important;
        }

        .stat-card.synthetic-highlight:hover {
            background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%);
            border-color: #16a34a;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 30px rgba(34, 197, 94, 0.25);
        }

        .stat-card.synthetic-highlight .stat-label {
            color: #16a34a;
            font-weight: 700;
        }

        @keyframes sparkle {
            0%, 100% { 
                opacity: 0.4; 
                transform: scale(1) rotate(0deg);
            }
            50% { 
                opacity: 1; 
                transform: scale(1.1) rotate(10deg);
            }
        }

        .stat-value {
            font-size: 1.4em;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 4px;
            letter-spacing: -0.5px;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 32px;
        }

        .folds-section h2 {
            color: #1e293b;
            margin-bottom: 24px;
            font-size: 1.4em;
            font-weight: 600;
        }

        .folds-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
        }

        .fold-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
        }

        .fold-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .fold-header {
            background: #f1f5f9;
            padding: 8px 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            color: #334155;
            margin-bottom: 12px;
        }

        .subject-info {
            background: #dbeafe;
            color: #1d4ed8;
            padding: 6px 8px;
            border-radius: 6px;
            font-size: 0.8em;
            text-align: center;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .data-section {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .before-section, .after-section {
            padding: 10px;
            border-radius: 8px;
        }

        .before-section {
            background: #fef2f2;
            border-left: 3px solid #ef4444;
        }

        .after-section {
            background: #f0fdf4;
            border-left: 3px solid #22c55e;
        }

        .section-title {
            font-size: 0.75em;
            font-weight: 600;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .before-section .section-title {
            color: #dc2626;
        }

        .after-section .section-title {
            color: #16a34a;
        }

        .data-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 3px 0;
            font-size: 0.8em;
        }

        .data-label {
            color: #475569;
            font-weight: 500;
        }

        .data-value {
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .activity-value {
            background: #dbeafe;
            color: #1d4ed8;
        }

        .falling-value {
            background: #fecaca;
            color: #dc2626;
        }

        .synthetic-value {
            background: #fed7aa;
            color: #ea580c;
        }

        .total-value {
            background: #dcfce7;
            color: #16a34a;
        }

        .ratio-value {
            background: #f3e8ff;
            color: #7c3aed;
        }

        .details-panel {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            height: fit-content;
        }

        .details-panel h2 {
            color: #1e293b;
            margin-bottom: 12px;
            font-size: 1.1em;
            font-weight: 600;
            text-align: center;
            padding: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            margin: -16px -16px 12px -16px;
        }

        .config-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .model-params {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 10px;
        }

        .model-params h3 {
            color: #374151;
            font-size: 0.8em;
            margin-bottom: 6px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            text-align: center;
            justify-content: center;
        }

        .model-params h3::before {
            content: '⚙️';
            font-size: 0.7em;
        }

        .param-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2px 0;
            padding: 1px 0;
            font-size: 0.7em;
            border-bottom: 1px solid #f1f5f9;
        }

        .param-row:last-child {
            border-bottom: none;
        }

        .param-label {
            color: #6b7280;
            font-weight: 500;
        }

        .param-value {
            color: #111827;
            font-weight: 600;
            font-family: 'Monaco', 'Menlo', monospace;
            background: #f1f5f9;
            padding: 1px 3px;
            border-radius: 2px;
            font-size: 0.85em;
        }

        .metrics-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 10px;
        }

        .metrics-section h3 {
            color: #374151;
            font-size: 0.8em;
            margin-bottom: 6px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            text-align: center;
            justify-content: center;
        }

        .metrics-section h3::before {
            content: '📊';
            font-size: 0.7em;
        }

        .metric-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2px 0;
            padding: 1px 0;
            font-size: 0.7em;
            border-bottom: 1px solid #f1f5f9;
        }

        .metric-item:last-child {
            border-bottom: none;
        }

        .metric-name {
            color: #6b7280;
            font-weight: 500;
        }

        .metric-value {
            font-weight: 600;
            font-size: 0.85em;
            color: #111827;
            font-family: 'Monaco', 'Menlo', monospace;
            background: #f1f5f9;
            padding: 1px 3px;
            border-radius: 2px;
        }

        .processing {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .folds-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            }
        }
    </style>
</head>
<body>

    <div class="logo-container">
        <img src="./university-logo.png" alt="Università di Verona" class="university-logo">
        <img src="./team-logo.png" alt="ISD Team Logo" class="team-logo">
        <img src="./PNRR.png" alt="Italia PNRR Logo" class="team-logo">
    </div>
    
        <!-- Admin Controls -->
    <div class="admin-controls">
        <h4>💬 Comment System</h4>
        <label class="toggle-switch">
            <input type="checkbox" id="enableComments" checked onchange="toggleCommentsSystem()">
            <span class="slider"></span>
        </label>
        <span>Enable Comments</span>
        <br><br>
        <div style="display: flex; gap: 15px;">
            <button class="btn btn-secondary" onclick="exportAllComments()" style="font-size: 11px; padding: 6px 20px;">
                📁 Export
            </button>
            <button class="btn btn-secondary" onclick="clearAllComments()" style="font-size: 11px; padding: 6px 10px; background: #dc3545;">
                🗑️ Clear
            </button>
        </div>
    </div>

    <div class="presentation-container">
        <div class="slide-indicator">
            Slide <span id="currentSlide">1</span> of <span id="totalSlides">34</span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="slide-content title-slide">
                <div class="university-header">
                    UNIVERSITÀ DI VERONA<br>
                    Department of Engineering for Innovation Medicine<br>
                    PhD Program in Computer Science
                </div>
                <h1 class="main-title">Assistive Solutions for Frail People</h1>
                <div class="subtitle">From Sleep Monitoring to Pre-Impact Fall Detection<br>A Complete PhD Journey</div>
                <div class="author-info">
                    <strong>Author:</strong> Muhammad Toqeer Ali<br>
                    <strong>Supervisor:</strong> Prof. Graziano Pravadelli<br>
                    <strong>Co-Supervisor:</strong> Dr. Florenc Demrozi<br>
                    <strong>Academic Year:</strong> 2022-2025
                </div>
                <div style="margin-top: 30px; font-size: 1.1em; color: #2c5aa0; font-weight: bold;">
                    October 2025
                </div>
            </div>
        </div>

<!-- Updated Table of Contents with Correct Slide Alignment -->
        <div class="slide">
            <div class="slide-header">
                <h2>📚 Table of Contents</h2>
                <div class="slide-number">2/35</div>
            </div>
            <div class="slide-content">
                <div class="toc-grid">
                    <div class="toc-section">
                        <h3><div class="toc-icon">🎯</div>Foundation & Goals</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">3</div>
                            <div>PhD Goals & PNRR Alignment</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">4</div>
                            <div>Research Evolution Timeline</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">5</div>
                            <div>Strategic Pivot Justification</div>
                        </div>
                    </div>
                    
                    <div class="toc-section">
                        <h3><div class="toc-icon">📚</div>Year 1 (2022-2023)</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">6</div>
                            <div>Systematic Literature Review</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">7</div>
                            <div>PRISMA Flow Diagram</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">8</div>
                            <div>IEEE Access Publication</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">9</div>
                            <div>Technology Domain Analysis</div>
                        </div>
                    </div>
                    
                    <div class="toc-section">
                        <h3><div class="toc-icon">🎯</div>Year 2 (2023-2024)</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">10</div>
                            <div>Strategic Pivot to Fall Detection</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">11-13</div>
                            <div>Fall Stages & Pre-Impact Innovation</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">14-16</div>
                            <div>Lightweight CNN Development</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">17-19</div>
                            <div>Implementation & Results</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">19</div>
                            <div>DATE 2025 Best Paper Award</div>
                        </div>
                    </div>
                    
                    <div class="toc-section">
                        <h3><div class="toc-icon">🚧</div>Year 2→3 Transition</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">20</div>
                            <div>Real-World Challenge Discovery</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">21</div>
                            <div>Field Testing Issues Analysis</div>
                        </div>
                    </div>
                    
                    <div class="toc-section">
                        <h3><div class="toc-icon">🚀</div>Year 3 (2024-2025)</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">22</div>
                            <div>Updated Methodology Pipeline</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">23-24</div>
                            <div>Advanced Data Augmentation</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">25-26</div>
                            <div>Event-Level Classification</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">27</div>
                            <div>Breakthrough Performance Results</div>
                        </div>
                    </div>
                    
                    <div class="toc-section">
                        <h3><div class="toc-icon">🌍</div>Collaboration & Impact</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">28</div>
                            <div>International Collaboration Network</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">29</div>
                            <div>Publications and Recognition</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">30</div>
                            <div>Conclusion & Mission Accomplished</div>
                        </div>

                        <div class="bullet-point">
                            <div class="bullet-icon">31</div>
                            <div>Project Video Documentary</div>
                        </div>
                        
                        <div class="bullet-point">
                            <div class="bullet-icon">🚀</div>
                            <div>Future Work & Research Directions </div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">32</div>
                            <div>Thank You & Questions</div>
                        </div>
                    </div>
                </div>
                
                <div class="highlight-box" style="text-align: center;">
                    <h3>🎯 Journey Outcome: From Research Foundation to Commercial-Ready Technology</h3>
                </div>
            </div>
        </div>

        <!-- Slide 3: PhD Goals and PNRR Alignment -->
        <div class="slide">
            <div class="slide-header">
                <h2>PhD Goals & PNRR Alignment</h2>
                <div class="slide-number">3/35</div>
            </div>
            <div class="slide-content">
                <div class="highlight-box">
                    <h3>🎯 Primary PhD Objective (2022)</h3>
                    <p>Define and implement assistive home automation solutions and virtual coaching tools based on wearable systems and IoT for Parkinson's patients and elderly populations.</p>
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div style="flex: 1;">
                        <h3 style="color: #2c5aa0;">🇮🇹 PNRR Mission Alignment</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">1</div>
                            <div><strong>Mission 1:</strong> Digital Transformation through IoT & AI</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">5</div>
                            <div><strong>Mission 5:</strong> Social Inclusion for aging populations</div>
                        </div>
                        <div style="font-size: 12px; color: #666; margin-top: 10px; font-style: italic;">
                            *Note: Missions 2-4 address different domains (environment, infrastructure, education) not directly relevant to this research
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3 style="color: #2c5aa0;">🎯 Initial Target Applications</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🏠</div>
                            <div><strong>Home Monitoring:</strong> Assistive automation solutions</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">😴</div>
                            <div><strong>Sleep Monitoring:</strong> Parkinson's patient care</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🚨</div>
                            <div><strong>Fall Detection:</strong> Emergency response systems</div>
                        </div>
                    </div>
                </div>
                
                <div class="achievement-box">
                    <h3>💭 Research Philosophy</h3>
                    <p>Maintain core objectives while adapting technical approaches based on practical constraints and emerging opportunities</p>
                </div>
            </div>
        </div>

        <!-- Slide 4: Research Evolution Timeline -->
        <div class="slide">
            <div class="slide-header">
                <h2>Research Evolution Timeline</h2>
                <div class="slide-number">4/35</div>
            </div>
            <div class="slide-content">
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-year">2022-2023: Foundation Year</div>
                        <p><strong>Literature Review:</strong> Analyzed 2,459 papers on ICT-based Alzheimer's care solutions <cite>[1]</cite></p>
                        <p><strong>Publication:</strong> IEEE Access survey paper establishing field overview</p>
                        <p><strong>Technical Exploration:</strong> Initial sleep monitoring system development using BAN devices</p>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-year">2023-2024: Strategic Pivot</div>
                        <p><strong>Direction Change:</strong> Transitioned from sleep monitoring to fall detection</p>
                        <p><strong>Achievement:</strong> 86.69% F1-score with lightweight CNN on STM32 <cite>[2]</cite></p>
                        <p><strong>Recognition:</strong> DATE 2025 Best Paper Award</p>
                    </div>
                
                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-year">2024-2025: Real-World Challenges & Breakthrough</div>
                        <p><strong>Challenge Identified:</strong> Year 2 field testing revealed false alarms from sudden construction movements</p>
                        <p><strong>Systematic Solutions:</strong> New construction dataset + Prof. Fadi collaboration (Norway) + Event-level classification</p>
                        <p><strong>Final Success:</strong> 99.56% F1-score with real-world validation + IEEE Sensors manuscript ready <cite>[4]</cite></p>
                    </div>

                </div>
                
                <div style="display: flex; justify-content: space-around; margin: 30px 0;">
                    <div class="performance-metric">
                        <div class="performance-metric">Literature Foundation</div>
                        <div class="performance-metric">2,459 Papers</div>
                    </div>
                    <div class="performance-metric">
                        <div class="performance-metric">Strategic Success</div>
                        <div class="performance-metric">Sleep→Fall Detection</div>
                    </div>
                    <div class="performance-metric">
                        <div class="performance-metric">Final Performance</div>
                        <div class="performance-metric">99.56% F1-Score</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- YEAR 1 DETAILED SLIDES START HERE -->

        <!-- Slide 6: Year 1 Overview -->
        <div class="slide">
            <div class="slide-header">
                <h2>📚 Year 1 (2022-2023): Foundation & Discovery</h2>
                <div class="slide-number">5/35</div>
            </div>
            <div class="slide-content">
                <div class="year-section">
                    <h3>🎯 Year 1 Mission: Building Comprehensive Foundations</h3>
                    <p>Establish deep domain knowledge in assistive technologies while exploring initial technical approaches for neurodegenerative disease monitoring</p>
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div style="flex: 1;">
                        <h3>📖 Systematic Literature Review</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔍</div>
                            <div><strong>PRISMA Methodology:</strong> Rigorous systematic approach</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📊</div>
                            <div><strong>Scope:</strong> ICT solutions for Alzheimer's Disease care</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🌐</div>
                            <div><strong>Multi-database Search:</strong> IEEE, ACM, Scopus, PubMed, WoS</div>
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3>🔬 Technical Exploration</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🛠️</div>
                            <div><strong>BAN Enhancement:</strong> Body Area Network upgrades</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">😴</div>
                            <div><strong>Sleep Monitoring:</strong> Parkinson's patient focus</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Multi-modal Sensors:</strong> EEG, EOG integration</div>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: space-around; margin: 30px 0;">
                    <div class="impact-metric">
                        <div class="metric-number">2,459</div>
                        <div class="metric-label">Papers Analyzed</div>
                    </div>
                    <div class="impact-metric">
                        <div class="metric-number">8</div>
                        <div class="metric-label">Technology Domains</div>
                    </div>
                    <div class="impact-metric">
                        <div class="metric-number">46</div>
                        <div class="metric-label">Final Studies Selected</div>
                    </div>
                    <div class="impact-metric">
                        <div class="metric-number">6</div>
                        <div class="metric-label">Months Intensive Work</div>
                    </div>
                </div>
                
                <div class="achievement-box">
                    <h3>🎯 Key Outcome: Research Gap Identification</h3>
                    <p><strong>Critical Finding:</strong> Most existing solutions were reactive rather than proactive, focusing on post-incident response instead of prevention—this insight directly shaped the subsequent fall detection research direction.</p>
                </div>
            </div>
        </div>

        <!-- Slide 7: PRISMA Flow Diagram -->
        <div class="slide">
            <div class="slide-header">
                <h2>📊 PRISMA Systematic Review Process</h2>
                <div class="slide-number">6/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./prisma.png" alt="PRISMA Flow Diagram" width="600" height="600">
                </div>
                <div class="figure-caption">Figure 1: PRISMA flow diagram illustrating the systematic screening process from 2,459 initial records through duplicate removal, title/abstract screening, and full-text evaluation to the final selection of 46 relevant studies <cite>[1]</cite>.</div>
                
                <div class="methodology-flow" style="margin-top: 30px;">
                    <div class="flow-step">
                        <h3>📚 Initial Search</h3>
                        <p><strong>2,459 Records</strong><br>Multi-database query<br>Jan 2015 - Mar 2023</p>
                    </div>
                    <div class="flow-step">
                        <h3>🔍 Duplicate Removal</h3>
                        <p><strong>2,180 Unique</strong><br>Automated + Manual<br>Quality screening</p>
                    </div>
                    <div class="flow-step">
                        <h3>📖 Full-Text Review</h3>
                        <p><strong>46 Selected</strong><br>Inclusion criteria<br>Quality assessment</p>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <h3>🎯 Inclusion Criteria Applied</h3>
                    <div class="bullet-point">
                        <div class="bullet-icon">✓</div>
                        <div>Focus on Alzheimer's disease (title, keywords, or abstract mention)</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">✓</div>
                        <div>Published in English with full-text availability</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">✓</div>
                        <div>Original research (excluding reviews and editorials)</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">✓</div>
                        <div>ICT-based technological intervention or solution</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Technology Domain Analysis -->
        <div class="slide">
            <div class="slide-header">
                <h2>🔬 Eight Technology Domains Framework</h2>
                <div class="slide-number">7/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./surveyp.png" alt="Technology Domain Distribution" width="600" height="500">
                </div>
                <div class="figure-caption">Figure 2: Overview of the systematic survey structure exploring technological innovations across eight major domains in Alzheimer's care, showing the comprehensive approach to technology categorization <cite>[1]</cite>.</div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 30px 0;">
                    <div class="highlight-box">
                        <h4>🏥 Healthcare-Focused Domains</h4>
                        <div class="bullet-point">
                            <div class="bullet-icon">📱</div>
                            <div><strong>Telemedicine & E-Health:</strong> Remote monitoring and consultation systems</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🏠</div>
                            <div><strong>Smart Environments:</strong> Ambient assisted living solutions</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🩺</div>
                            <div><strong>Internet of Medical Things:</strong> Connected medical devices</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">👤</div>
                            <div><strong>Personalized Assistive Solutions:</strong> Adaptive care systems</div>
                        </div>
                    </div>
                    
                    <div class="achievement-box">
                        <h4>💻 Technology-Focused Domains</h4>
                        <div class="bullet-point">
                            <div class="bullet-icon">🌐</div>
                            <div><strong>Internet of Things (IoT):</strong> Connected device networks</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📡</div>
                            <div><strong>Wearable & Environmental Sensors:</strong> Multi-modal sensing</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎥</div>
                            <div><strong>Audio/Video Processing:</strong> Behavioral analysis systems</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">💾</div>
                            <div><strong>Digital Platforms:</strong> Software architectures and data management</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Sensing Technology Analysis -->
        <div class="slide">
            <div class="slide-header">
                <h2>📡 Sensing Technology Categorization</h2>
                <div class="slide-number">8/35</div>
            </div>
            <div class="slide-content">
                <table class="comparison-table">
                    <tr>
                        <th>Sensing Technology</th>
                        <th>Key Applications</th>
                        <th>Advantages</th>
                        <th>Limitations</th>
                        <th>Usage Frequency</th>
                    </tr>
                    <tr style="background-color: #e8f5e8;">
                        <td><strong>Inertial Sensors</strong><br><small>Accelerometers, Gyroscopes, Magnetometers</small></td>
                        <td>Activity recognition, fall detection, gait analysis</td>
                        <td>Non-invasive, wearable, continuous monitoring</td>
                        <td>Motion artifacts, calibration requirements</td>
                        <td><span style="color: #4caf50; font-weight: bold;">High (65%)</span></td>
                    </tr>
                    <tr style="background-color: #fff3e0;">
                        <td><strong>Physiological Sensors</strong><br><small>Heart rate, Blood pressure, SpO2</small></td>
                        <td>Vital signs monitoring, health status assessment</td>
                        <td>Direct health indicators, clinical relevance</td>
                        <td>Comfort issues, skin irritation, accuracy</td>
                        <td><span style="color: #ff9800; font-weight: bold;">Medium (45%)</span></td>
                    </tr>
                    <tr style="background-color: #e3f2fd;">
                        <td><strong>Environmental Sensors</strong><br><small>Pressure, Temperature, Light, GPS</small></td>
                        <td>Context awareness, location tracking, safety</td>
                        <td>Ambient monitoring, privacy-preserving</td>
                        <td>Installation complexity, coverage limitations</td>
                        <td><span style="color: #2196f3; font-weight: bold;">Medium (35%)</span></td>
                    </tr>
                    <tr style="background-color: #f3e5f5;">
                        <td><strong>Video/Audio Processing</strong><br><small>Computer vision, Speech analysis</small></td>
                        <td>Behavior analysis, emergency detection</td>
                        <td>Rich information content, visual confirmation</td>
                        <td>Privacy concerns, computational complexity</td>
                        <td><span style="color: #9c27b0; font-weight: bold;">Low (25%)</span></td>
                    </tr>
                </table>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div class="highlight-box" style="flex: 1;">
                        <h3>🎯 Key Finding: Inertial Sensor Dominance</h3>
                        <p>Accelerometer and gyroscope sensors emerged as the most promising technology for practical deployment due to their non-invasive nature and proven effectiveness in movement-related applications.</p>
                    </div>
                    
                    <div class="achievement-box" style="flex: 1;">
                        <h3>💡 Strategic Insight</h3>
                        <p>This analysis directly informed our decision to focus on inertial sensors for fall detection, leveraging the technology with highest deployment success rates and user acceptance.</p>
                    </div>
                </div>
            </div>
        </div>


        <!-- Slide 11: IEEE Access Survey Publication -->
        <div class="slide">
            <div class="slide-header">
                <h2>📄 Major Publication Achievement</h2>
                <div class="slide-number">9/35</div>
            </div>
            <div class="slide-content">
                <div class="publication-card" style="margin-bottom: 30px;">
                    <h3>📚 IEEE Open Access Journal Publication</h3>
                    <p><strong>Title:</strong> "ICT-Based Solutions for Alzheimer's Disease Care: A Systematic Review" <cite>[1]</cite></p>
                    <div style="display: flex; justify-content: space-between; gap: 30px; margin: 20px 0;">
                        <div>
                            <div class="bullet-point">
                                <div class="bullet-icon">📅</div>
                                <div><strong>Published:</strong> January 19, 2024</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🔗</div>
                                <div><strong>DOI:</strong> 10.1109/ACCESS.2024.3358348</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🌐</div>
                                <div><strong>Access:</strong> Open Access (freely available globally)</div>
                            </div>
                        </div>
                        <div>
                            <div class="bullet-point">
                                <div class="bullet-icon">📊</div>
                                <div><strong>Scope:</strong> 2,459 papers → 46 selected studies</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">⏱️</div>
                                <div><strong>Duration:</strong> 6 months intensive analysis</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🎯</div>
                                <div><strong>Impact:</strong> Foundation reference for assistive tech</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="figure-placeholder">
                    <img src="./survey.png" alt="IEEE Access Survey Paper" width="600" height="700">
                </div>
                <div class="figure-caption">Figure 3: The published IEEE Access survey paper representing the major first year contribution, establishing comprehensive foundations for ICT-based neurodegenerative disease care research and achieving significant academic impact <cite>[1]</cite>.</div>
                
                <div class="achievement-box">
                    <h3>🌟 Unique Survey Contributions</h3>
                    <div class="bullet-point">
                        <div class="bullet-icon">🔄</div>
                        <div><strong>Holistic Coverage:</strong> First comprehensive analysis across multiple ICT domains simultaneously</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">📐</div>
                        <div><strong>Multi-Parameter Analysis:</strong> Technology type, deployment context, validation methodology integrated</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">🎯</div>
                        <div><strong>Gap Identification:</strong> Systematic evidence-based recommendations for future research priorities</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Original BAN Architecture -->
        <div class="slide">
            <div class="slide-header">
                <h2>🛠️ Sleep Monitoring: Original BAN Foundation</h2>
                <div class="slide-number">10/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./7.png" alt="Original BAN Architecture" width="600" height="400">
                </div>
                <div class="figure-caption">Figure 4: The original Body Area Network architecture developed by the research group, showing sensor integration, wireless communication, and data processing capabilities that provided the foundation for proposed enhancements <cite>[3]</cite>.</div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div class="highlight-box" style="flex: 1;">
                        <h3>⚡ Existing Capabilities</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">📡</div>
                            <div><strong>Sensors:</strong> 3-axis accelerometer, gyroscope, compass</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📶</div>
                            <div><strong>Communication:</strong> Bluetooth Low Energy (BLE) transmission</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📊</div>
                            <div><strong>Processing:</strong> Real-time movement detection algorithms</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔋</div>
                            <div><strong>Power:</strong> Optimized for extended wearable operation</div>
                        </div>
                    </div>
                    
                    <div class="achievement-box" style="flex: 1;">
                        <h3>🎯 Sleep Monitoring Requirements</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🧠</div>
                            <div><strong>EEG Integration:</strong> Brain activity monitoring for sleep stages</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">👁️</div>
                            <div><strong>EOG Sensors:</strong> Eye movement detection for REM identification</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚕️</div>
                            <div><strong>Clinical Grade:</strong> Medical device compliance needed</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 13: Enhanced BAN Architecture for Sleep -->
        <div class="slide">
            <div class="slide-header">
                <h2>🔬 Sleep Monitoring: Enhanced BAN Design</h2>
                <div class="slide-number">11/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./9.jpg" alt="Enhanced BAN Architecture" width="600" height="400">
                </div>
                <div class="figure-caption">Figure 5: The proposed enhanced Body Area Network architecture for sleep monitoring, integrating EEG, and EOG sensors with existing motion sensors for comprehensive physiological monitoring in Parkinson's patients.</div>
                
                <div class="methodology-flow" style="margin: 30px 0;">
                    <div class="flow-step">
                        <h3>📡 Multi-Modal Sensing</h3>
                        <p><strong>Physiological Integration</strong><br>EEG + EOG<br>Clinical-grade acquisition</p>
                    </div>
                    <div class="flow-step">
                        <h3>🔄 Enhanced Processing</h3>
                        <p><strong>Advanced Analytics</strong><br>Sleep stage classification<br>Disorder detection</p>
                    </div>
                    <div class="flow-step">
                        <h3>📱 Smart Aggregation</h3>
                        <p><strong>Integrated Node</strong><br>Real-time analysis<br>Reduced latency</p>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin: 30px 0;">
                    <div class="achievement-box">
                        <h3>✨ Proposed Enhancements</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🧠</div>
                            <div><strong>EEG Array:</strong> Multi-channel brain activity monitoring</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">👁️</div>
                            <div><strong>Dual EOG:</strong> Left/right eye movement tracking</div>
                        </div>
                    </div>
                    
                    <div class="highlight-box">
                        <h3>⚠️ Implementation Challenges</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔧</div>
                            <div><strong>Complexity:</strong> Multi-modal sensor fusion difficulties</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚕️</div>
                            <div><strong>Validation:</strong> Clinical testing and medical compliance</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⏰</div>
                            <div><strong>Timeline:</strong> PhD completion schedule constraints</div>
                        </div>
                    </div>
                </div>
                
                <div class="conclusion-highlight" style="background: linear-gradient(135deg, #ffebee, #fce4ec);">
                    <h2>🎯 Strategic Decision Point</h2>
                    <p>While technically fascinating, the enhanced sleep monitoring system exceeded PhD scope constraints. This realization prompted systematic evaluation of alternative approaches, leading to the successful fall detection pivot.</p>
                </div>
            </div>
        </div>

                <!-- Slide 5: Strategic Pivot Justification -->
        <div class="slide">
            <div class="slide-header">
                <h2>Strategic Pivot: Sleep Monitoring → Fall Detection</h2>
                <div class="slide-number">12/35</div>
            </div>
            <div class="slide-content">
                <div style="display: flex; justify-content: space-between; gap: 30px;">
                    <div style="flex: 1;">
                        <h3 style="color: #d32f2f;">❌ Sleep Monitoring Challenges</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">!</div>
                            <div>Multi-modal sensor complexity (EEG, EOG)</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">!</div>
                            <div>Clinical validation requirements</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">!</div>
                            <div>Regulatory compliance complexity</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">!</div>
                            <div>Limited patient access</div>
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3 style="color: #4caf50;">✓ Fall Detection Advantages</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">✓</div>
                            <div>Leverages existing BAN expertise</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">✓</div>
                            <div>Manageable validation requirements</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">✓</div>
                            <div>Multiple application domains</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">✓</div>
                            <div>Industry partnership alignment</div>
                        </div>
                    </div>
                </div>
                
                <div class="highlight-box" style="margin-top: 30px;">
                    <h3>🎯 Strategic Decision</h3>
                    <p>Maintaining core objective of assistive solutions for frail populations while adapting technical approach to available resources and practical deployment considerations.</p>
                </div>
            </div>
        </div>
        
        <!-- YEAR 2 DETAILED SLIDES START HERE -->

        <!-- Slide 14: Year 2 Overview & Strategic Pivot -->
        <div class="slide">
            <div class="slide-header">
                <h2>🎯 Year 2 (2023-2024): Strategic Innovation</h2>
                <div class="slide-number">13/35</div>
            </div>
            <div class="slide-content">
                <div class="year-section">
                    <h3>🔄 Year 2 Mission: From Sleep Monitoring to Fall Detection Excellence</h3>
                    <p>Execute strategic pivot while maintaining alignment with assistive care objectives, developing breakthrough embedded AI solutions for safety applications</p>
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div style="flex: 1;">
                        <h3>🎯 Strategic Pivot Execution</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔄</div>
                            <div><strong>Direction Change:</strong> Sleep monitoring → Fall detection</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Innovation Focus:</strong> Pre-impact detection capability</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🤝</div>
                            <div><strong>Industry Alignment:</strong> Protechto s.r.l. partnership</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎯</div>
                            <div><strong>Objective:</strong> Proactive safety vs. reactive detection</div>
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3>🧠 Technical Innovation</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">💻</div>
                            <div><strong>Lightweight CNN:</strong> STM32-optimized architecture</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Real-time Processing:</strong> Sub-500ms decision latency</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📊</div>
                            <div><strong>Dataset Integration:</strong> KFall + Custom collection</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎯</div>
                            <div><strong>Embedded Deployment:</strong> Microcontroller validation</div>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: space-around; margin: 30px 0;">
                    <div class="impact-metric">
                        <div class="metric-number">86.69%</div>
                        <div class="metric-label">F1-Score Achieved</div>
                    </div>
                    <div class="impact-metric">
                        <div class="metric-number">400ms</div>
                        <div class="metric-label">Decision Latency</div>
                    </div>
                    <div class="impact-metric">
                        <div class="metric-number">61</div>
                        <div class="metric-label">Total Subjects</div>
                    </div>
                    <div class="impact-metric">
                        <div class="metric-number">🏆</div>
                        <div class="metric-label">Best Paper Award</div>
                    </div>
                </div>
                
                <div class="achievement-box">
                    <h3>🎯 Year 2 Breakthrough: Pre-Impact Detection</h3>
                    <p><strong>Revolutionary Approach:</strong> First practical implementation of pre-impact fall detection on embedded microcontrollers, enabling protective device activation before ground contact occurs—transforming from reactive to proactive safety systems.</p>
                </div>
            </div>
        </div>

        <!-- Slide 15: Fall Stages Explained -->
        <div class="slide">
            <div class="slide-header">
                <h2>📊 Four Stages of Fall: Pre-Impact Innovation</h2>
                <div class="slide-number">14/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./falling-overview.png" alt="Fall Stages" width="750" height="500">
                </div>
                <div class="figure-caption">Figure 6: Abstract view of PhD work showing fall stages: Pre-fall (stable), Critical (loss of balance), Impact (ground contact), and Post-fall (recovery), with corresponding acceleration patterns highlighting the critical pre-impact detection window <cite>[2]</cite>.</div>
                
                <div class="methodology-flow" style="margin: 30px 0;">
                    <div class="flow-step" style="background: #e8f5e8;">
                        <h3>🟢 Pre-Fall Stage</h3>
                        <p><strong>Normal Activities</strong><br>Stable acceleration<br>Baseline patterns</p>
                    </div>
                    <div class="flow-step" style="background: #fff3e0;">
                        <h3>🟡 Critical Stage</h3>
                        <p><strong>Loss of Balance</strong><br>Sudden acceleration<br>⚡ Detection Window</p>
                    </div>
                    <div class="flow-step" style="background: #ffebee;">
                        <h3>🔴 Impact Stage</h3>
                        <p><strong>Ground Contact</strong><br>High impact forces<br>Traditional detection</p>
                    </div>
                    <div class="flow-step" style="background: #f3e5f5;">
                        <h3>🟣 Post-Fall</h3>
                        <p><strong>After Impact</strong><br>Recovery/stillness<br>Emergency response</p>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div class="highlight-box" style="flex: 1;">
                        <h3>🎯 Innovation: Pre-Impact Detection</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Target Window:</strong> Critical stage (300-400ms)</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🛡️</div>
                            <div><strong>Prevention Goal:</strong> Activate protection before impact</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🚀</div>
                            <div><strong>Advantage:</strong> Injury prevention vs. detection</div>
                        </div>
                    </div>
                    
                    <div class="achievement-box" style="flex: 1;">
                        <h3>⚙️ Technical Challenge</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">⏱️</div>
                            <div><strong>Time Constraint:</strong> < 500ms decision required</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎯</div>
                            <div><strong>Accuracy Need:</strong> Minimize false positives</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">💻</div>
                            <div><strong>Embedded Deploy:</strong> Resource-constrained systems</div>
                        </div>
                    </div>
                </div>
                
                <div class="conclusion-highlight">
                    <h2>💡 Paradigm Shift: Prevention over Detection</h2>
                    <p>Traditional fall detection systems react after impact occurs. Our pre-impact approach enables proactive protection, potentially preventing injuries rather than simply detecting them after occurrence.</p>
                </div>
            </div>
        </div>

        <!-- Slide 16: Overall Methodology Development -->
        <div class="slide">
            <div class="slide-header">
                <h2>🔬 Year 2 Methodology Framework</h2>
                <div class="slide-number">15/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./AdBAN.jpg" alt="Methodology Framework" width="750" height="400">
                </div>
                <div class="figure-caption">Figure 7: Complete methodology of pre-impact fall detection showing the integrated pipeline from data acquisition through preprocessing, CNN model training and testing, to final optimization and deployment on STM32 microcontrollers <cite>[2]</cite>.</div>
                
                <div class="methodology-flow" style="margin: 30px 0;">
                    <div class="flow-step">
                        <h3>📊 Data Acquisition</h3>
                        <p><strong>Multi-Source Collection</strong><br>KFall dataset + Custom<br>6-channel IMU data</p>
                    </div>
                    <div class="flow-step">
                        <h3>🔄 Preprocessing</h3>
                        <p><strong>Signal Optimization</strong><br>400ms windows<br>Normalization pipeline</p>
                    </div>
                    <div class="flow-step">
                        <h3>🧠 CNN Training</h3>
                        <p><strong>Lightweight Architecture</strong><br>Embedded-optimized<br>Binary classification</p>
                    </div>
                    <div class="flow-step">
                        <h3>⚡ STM32 Deploy</h3>
                        <p><strong>Real-time Operation</strong><br>67KB flash usage<br>4ms inference time</p>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin: 30px 0;">
                    <div class="highlight-box">
                        <h3>📡 Data Collection Strategy</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🌐</div>
                            <div><strong>KFall Integration:</strong> 32 subjects, 21 ADL + 15 fall types</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎯</div>
                            <div><strong>Custom Collection:</strong> 29 subjects, construction-focused scenarios</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📱</div>
                            <div><strong>Synchronization:</strong> LED-smartphone video alignment</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Sampling Rate:</strong> 100Hz for optimal motion capture</div>
                        </div>
                    </div>
                    
                    <div class="achievement-box">
                        <h3>🧠 CNN Architecture Innovation</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">💻</div>
                            <div><strong>Input Design:</strong> [40 × 6] for 400ms IMU windows</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔧</div>
                            <div><strong>Layer Structure:</strong> Conv1D + MaxPool + Dense progression</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎯</div>
                            <div><strong>Optimization:</strong> Dropout regularization for overfitting prevention</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Output:</strong> Binary classification with confidence scoring</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 17: CNN Architecture Details -->
        <div class="slide">
            <div class="slide-header">
                <h2>🧠 Lightweight CNN Architecture Design</h2>
                <div class="slide-number">16/35</div>
            </div>
            <div class="slide-content">
                <div class="highlight-box">
                    <h3>⚡ STM32 Microcontroller Constraints</h3>
                    <div style="display: flex; justify-content: space-around; margin: 20px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #d32f2f;">⚠️</div>
                            <div><strong>Flash Memory</strong><br>< 256KB limit</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #d32f2f;">⚠️</div>
                            <div><strong>RAM Usage</strong><br>< 256KB limit</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #d32f2f;">⚠️</div>
                            <div><strong>Processing Speed</strong><br>< 10ms inference</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #d32f2f;">⚠️</div>
                            <div><strong>Power Consumption</strong><br>Battery operation</div>
                        </div>
                    </div>
                </div>
                
                <table class="comparison-table">
                    <tr>
                        <th>Layer Type</th>
                        <th>Configuration</th>
                        <th>Input → Output</th>
                        <th>Parameters</th>
                        <th>Purpose</th>
                    </tr>
                    <tr style="background-color: #e8f4f8;">
                        <td><strong>Input Layer</strong></td>
                        <td>[40 × 6] IMU windows</td>
                        <td>Raw sensor data</td>
                        <td>0</td>
                        <td>400ms 6-channel input</td>
                    </tr>
                    <tr style="background-color: #f3e5f5;">
                        <td><strong>Conv1D Layer 1</strong></td>
                        <td>64 filters, kernel=4</td>
                        <td>[40×6] → [27×64]</td>
                        <td>1,600</td>
                        <td>Feature extraction</td>
                    </tr>
                    <tr style="background-color: #e8f5e8;">
                        <td><strong>MaxPool1D + Dropout</strong></td>
                        <td>Pool=2, dropout=0.1</td>
                        <td>[27×64] → [13×64]</td>
                        <td>0</td>
                        <td>Dimensionality reduction</td>
                    </tr>
                    <tr style="background-color: #fff3e0;">
                        <td><strong>Conv1D Layer 2</strong></td>
                        <td>64 filters, kernel=4</td>
                        <td>[13×64] → [10×64]</td>
                        <td>16,384</td>
                        <td>Higher-level features</td>
                    </tr>
                    <tr style="background-color: #e3f2fd;">
                        <td><strong>MaxPool1D + Dropout</strong></td>
                        <td>Pool=2, dropout=0.4</td>
                        <td>[10×64] → [5×64]</td>
                        <td>0</td>
                        <td>Final dimension reduction</td>
                    </tr>
                    <tr style="background-color: #f3e5f5;">
                        <td><strong>Dense Layer</strong></td>
                        <td>320→128 with PReLU</td>
                        <td>[320] → [128]</td>
                        <td>41,088</td>
                        <td>Classification preparation</td>
                    </tr>
                    <tr style="background-color: #e8f5e8;">
                        <td><strong>Output Layer</strong></td>
                        <td>128→2 with Softmax</td>
                        <td>[128] → [2]</td>
                        <td>258</td>
                        <td>Binary fall/activity</td>
                    </tr>
                </table>
                
                <div style="display: flex; justify-content: space-around; margin: 30px 0;">
                    <div class="performance-metric" style="background: linear-gradient(135deg, #4caf50, #2e7d32);">67.03 KB Flash</div>
                    <div class="performance-metric" style="background: linear-gradient(135deg, #2196f3, #1565c0);">16.87 KB RAM</div>
                    <div class="performance-metric" style="background: linear-gradient(135deg, #ff9800, #f57c00);">4ms ± 3ms Inference</div>
                    <div class="performance-metric" style="background: linear-gradient(135deg, #9c27b0, #6a1b9a);">59,330 Total Params</div>
                </div>
            </div>
        </div>

        <!-- Slide 18: Year 2 Results & Performance -->
        <div class="slide">
            <div class="slide-header">
                <h2>📊 Year 2 Performance Results</h2>
                <div class="slide-number">17/35</div>
            </div>
            <div class="slide-content">
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div style="flex: 1;">
                        <h3>🎯 Classification Performance</h3>
                        <div class="impact-metric">
                            <div class="metric-number">86.69%</div>
                            <div class="metric-label">F1-Score Achievement</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">✅</div>
                            <div><strong>Overall Accuracy:</strong> 98.28%</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚠️</div>
                            <div><strong>False Positive Rate:</strong> 2.04%</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">❌</div>
                            <div><strong>False Negative Rate:</strong> 4.17%</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📊</div>
                            <div><strong>Validation Method:</strong> Subject-independent cross-validation</div>
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3>⚡ Real-Time Performance</h3>
                        <div class="impact-metric">
                            <div class="metric-number">400ms</div>
                            <div class="metric-label">Decision Latency</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🚀</div>
                            <div><strong>Processing Window:</strong> 400ms segments</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>CNN Inference:</strong> 4ms ± 3ms per segment</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🛡️</div>
                            <div><strong>Protection Window:</strong> 150ms for airbag activation</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔋</div>
                            <div><strong>Power Efficiency:</strong> Extended battery operation</div>
                        </div>
                    </div>
                </div>
                
                <table class="comparison-table">
                    <tr>
                        <th>Metric Category</th>
                        <th>Year 2 Achievement</th>
                        <th>Industry Standard</th>
                        <th>Status</th>
                    </tr>
                    <tr style="background-color: #e8f5e8;">
                        <td><strong>F1-Score</strong></td>
                        <td>86.69%</td>
                        <td>80-85% typical</td>
                        <td><span style="color: #4caf50; font-weight: bold;">✓ Exceeds</span></td>
                    </tr>
                    <tr style="background-color: #e3f2fd;">
                        <td><strong>Response Time</strong></td>
                        <td>400ms total latency</td>
                        <td>500-1000ms typical</td>
                        <td><span style="color: #4caf50; font-weight: bold;">✓ Superior</span></td>
                    </tr>
                    <tr style="background-color: #fff3e0;">
                        <td><strong>Embedded Deployment</strong></td>
                        <td>STM32 successful</td>
                        <td>Limited demonstrations</td>
                        <td><span style="color: #4caf50; font-weight: bold;">✓ First Practical</span></td>
                    </tr>
                    <tr style="background-color: #f3e5f5;">
                        <td><strong>Resource Usage</strong></td>
                        <td>67KB flash, 17KB RAM</td>
                        <td>High resource requirements</td>
                        <td><span style="color: #4caf50; font-weight: bold;">✓ Optimized</span></td>
                    </tr>
                </table>
                
                <div class="achievement-box">
                    <h3>🎯 Year 2 Proof-of-Concept Success</h3>
                    <p><strong>Foundation Established:</strong> 86.69% F1-score with 400ms latency proved the feasibility of pre-impact fall detection on embedded systems, setting the stage for advanced improvements in Year 3.</p>
                </div>
            </div>
        </div>

        <!-- Slide 19: DATE 2025 Best Paper Award -->
        <div class="slide">
            <div class="slide-header">
                <h2>🏆 DATE 2025 Best Paper Award Achievement</h2>
                <div class="slide-number">18/35</div>
            </div>
            <div class="slide-content">
                <div class="publication-card" style="background: linear-gradient(135deg, #fff3e0, #fffde7);">
                    <div class="award-badge" style="font-size: 1.2em; margin-bottom: 20px;">🏆 DATE 2025 Best Paper Award Winner</div>
                    <h3>📄 "A Lightweight CNN for Real-Time Pre-Impact Fall Detection" <cite>[2]</cite></h3>
                    <p><strong>Authors:</strong> Cristian Turetta, Muhammad Toqeer Ali, Florenc Demrozi, Graziano Pravadelli</p>
                    <p><strong>Conference:</strong> Design, Automation and Test in Europe (DATE) 2025</p>
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
                    <div class="highlight-box" style="flex: 1;">
                        <h3>🌟 Award Recognition Criteria</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">💡</div>
                            <div><strong>Technical Innovation:</strong> First practical pre-impact detection on microcontrollers</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🎯</div>
                            <div><strong>Practical Impact:</strong> Real-world embedded deployment demonstration</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🔬</div>
                            <div><strong>Methodological Excellence:</strong> Rigorous validation and performance benchmarking</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🚀</div>
                            <div><strong>Deployment Feasibility:</strong> Complete STM32 implementation proof</div>
                        </div>
                    </div>
                    
                    <div class="achievement-box" style="flex: 1;">
                        <h3>🎯 Distinguishing Innovations</h3>
                        <div class="bullet-point">
                            <div class="bullet-icon">🧠</div>
                            <div><strong>Lightweight Architecture:</strong> 67KB flash, 17KB RAM optimization</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">⚡</div>
                            <div><strong>Real-Time Performance:</strong> 4ms inference, 400ms total latency</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">📊</div>
                            <div><strong>Comprehensive Dataset:</strong> KFall + custom construction scenarios</div>
                        </div>
                        <div class="bullet-point">
                            <div class="bullet-icon">🤝</div>
                            <div><strong>Industry Integration:</strong> Protechto safety equipment compatibility</div>
                        </div>
                    </div>
                </div>
                
                <div class="conclusion-highlight">
                    <h2>🏆 International Recognition Achievement</h2>
                    <p>The DATE 2025 Best Paper Award validated our innovative approach to embedded AI for safety applications, establishing credibility and visibility within the global research community while proving the practical viability of pre-impact fall detection systems.</p>
                </div>
            </div>
        </div>


<!-- New Slide: Year 2 Real-World Challenge Discovery -->
<div class="slide">
    <div class="slide-header">
        <h2>🚧 Year 2→3 Transition: Real-World Challenge Discovery</h2>
        <div class="slide-number">19/35</div>
    </div>
    <div class="slide-content">
        <div class="highlight-box" style="background-color: #fff3e0; border-left: 4px solid #ff9800;">
            <h3>⚠️ Critical Issue Discovered During Field Testing</h3>
            <p><strong>Problem:</strong> 86.69% F1-score worked well in controlled settings, but real construction site deployment revealed significant false alarms from sudden movements and jerky motions typical in construction work.</p>
        </div>
        
        <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
            <div style="flex: 1;">
                <h3 style="color: #d32f2f;">❌ Year 2 Field Testing Issues</h3>
                <div class="bullet-point">
                    <div class="bullet-icon">!</div>
                    <div>False alarms from sudden jerky movements</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">!</div>
                    <div>Construction-specific activities misclassified</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">!</div>
                    <div>Worker feedback: too many false positives</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">!</div>
                    <div>Gap between lab performance vs. field reality</div>
                </div>
            </div>
            
            <div style="flex: 1;">
                <h3 style="color: #2c5aa0;">🎯 Year 3 Solution Strategy</h3>
                <div class="bullet-point">
                    <div class="bullet-icon">✓</div>
                    <div>Collect new construction site dataset</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">✓</div>
                    <div>Add problematic activities in controlled environment</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">✓</div>
                    <div>Collaborate with Prof. Fadi (Norway) for augmentation</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">✓</div>
                    <div>Develop event-level classification methods</div>
                </div>
            </div>
        </div>
        
        <div class="achievement-box">
            <h3>🔄 Research Pivot Justification</h3>
            <p><strong>Learning:</strong> Real-world deployment is the ultimate test. Lab success doesn't guarantee field success. The false alarm issue became our Year 3 research focus, leading to breakthrough improvements and authentic commercial viability.</p>
        </div>
    </div>
</div>

        <!-- Slide 14: Year 3 Visual - Advanced Pipeline -->
        <div class="slide">
            <div class="slide-header">
                <h2>Advanced Fall Detection Pipeline</h2>
                <div class="slide-number">20/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./FallingPaperDateAssets-2-new.png" alt="Advanced Fall Detection Pipeline" width="750" height="400">
                </div>
                <div class="figure-caption">Figure 8: Complete advanced fall detection pipeline illustrating fall stages with acceleration profiles, the integrated methodology from segment-level CNN through VAE/GAN augmentation to event-level Random Forest classification, culminating in smart safety jacket deployment for protective device activation <cite>[4]</cite>.</div>
                
                <div class="methodology-flow" style="margin-top: 20px;">
                    <div class="flow-step">
                        <h3>📊 Data Input</h3>
                        <p>300ms Windows<br>6-channel IMU<br>100Hz sampling</p>
                    </div>
                    <div class="flow-step">
                        <h3>🧠 CNN Analysis</h3>
                        <p>Segment-Level<br>Lightweight arch<br>Confidence output</p>
                    </div>
                    <div class="flow-step">
                        <h3>🌳 RF Aggregation</h3>
                        <p>Event-Level<br>Random Forest<br>Final decision</p>
                    </div>
                    <div class="flow-step">
                        <h3>⚡ Response</h3>
                        <p>450ms Total<br>Safety activation<br>Protection deploy</p>
                    </div>
                </div>
            </div>
        </div>

         <!-- Slide 1: Year 3 Updated Methodology Pipeline -->
        <div class="slide active">
            <div class="slide-header">
                <h2>🔬 Year 3: Updated Methodology Pipeline</h2>
                <div class="slide-number">21/35</div>
            </div>
            <div class="slide-content">
                <div class="figure-placeholder">
                    <img src="./methodology.png" alt="Advanced Fall Detection Pipeline" width="750" height="400">
                </div>
                <div class="figure-caption">Figure 9:
                    Advanced methodology pipeline showing: Data Acquisition (STM32 + 6-channel IMU) → Data Preprocessing (Low-pass filter, segmentation) → Model Training with Data Augmentation (VAE, GAN, VAE-GAN) → AI Model Training (CNN + Event-Level Random Forest) → Model Optimization (Quantization) → Deployment on STM32/Smart Safety Jacket <cite>[4]</cite>.
                </div>
                
                <div class="methodology-flow">
                    <div class="flow-step">
                        <h4>📊 Data Acquisition</h4>
                        <p>STM32F722RE<br>6-channel IMU<br>100Hz sampling<br>Multi-environment</p>
                    </div>
                    <div class="flow-step">
                        <h4>🔄 Data Preprocessing</h4>
                        <p>Low-pass filter 5Hz<br>300ms windows<br>50% overlap<br>Normalization</p>
                    </div>
                    <div class="flow-step">
                        <h4>🎯 Data Augmentation</h4>
                        <p>VAE Generation<br>GAN Synthesis<br>VAE-GAN Hybrid<br>Quality Control</p>
                    </div>
                    <div class="flow-step">
                        <h4>🧠 AI Model Training</h4>
                        <p>Segment-CNN<br>Event-RF<br>5-fold CV<br>Subject-independent</p>
                    </div>
                    <div class="flow-step">
                        <h4>⚡ Model Optimization</h4>
                        <p>Quantization<br>STM32 Deploy<br>Real-time<br>Safety Jacket</p>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <h3>🔄 Key Methodology Enhancements from Year 2</h3>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <div>
                            <h4>📈 Dataset Expansion</h4>
                            <div class="bullet-point">
                                <div class="bullet-icon">🏗️</div>
                                <div><strong>Construction Site Data:</strong> Real-world occupational activities</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">📊</div>
                                <div><strong>Extended Collection:</strong> 480+ hours authentic data</div>
                            </div>
                        </div>
                        <div>
                            <h4>🎯 Advanced Processing</h4>
                            <div class="bullet-point">
                                <div class="bullet-icon">🧬</div>
                                <div><strong>Generative Augmentation:</strong> VAE/GAN for class balance</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🌳</div>
                                <div><strong>Event-Level Intelligence:</strong> Random Forest aggregation</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="year-section">
                    <h3>🎯 Pipeline Innovation Impact</h3>
                    <p>The updated methodology addresses <strong>class imbalance (131:1 ratio)</strong> through targeted augmentation and replaces simple threshold-based aggregation with <strong>intelligent Random Forest event-level classification</strong>, achieving breakthrough 99.56% F1-score performance.</p>
                </div>
            </div>
        </div>


        <!-- Slide 2: Dataset Class Imbalance & Augmentation Strategy -->
        <div class="slide">
            <div class="slide-header">
                <h2>⚖️ Dataset Class Imbalance Challenge & Augmentation Strategy</h2>
                <div class="slide-number">22/35</div>
            </div>
            <div class="slide-content">
                <div style="display: flex; gap: 30px; margin: 30px 0;">
                    <div style="flex: 1;">
                        <div class="figure-placeholder">
                            <img src="./overall_class_count.png" alt="Advanced Fall Detection Pipeline" width="750" height="400">
                        </div>
                        <div class="figure-caption">Figure 10:
                            Class distribution showing extreme imbalance: 99.24% activity vs. 0.76% falling segments, highlighting the critical need for targeted augmentation approaches <cite>[4]</cite>.
                        </div>
                        
                        <div class="performance-metric" style="background: #ffebee; border-color: #f44336;">
                            <div class="metric-number" style="color: #f44336;">131:1</div>
                            <div class="metric-label">Activity to Fall Ratio</div>
                        </div>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <h3>🧬 Advanced Augmentation Strategy Implementation</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div style="background: #e3f2fd; border: 2px solid #1976d2; border-radius: 10px; padding: 15px;">
                            <h4 style="color: #1976d2; margin-bottom: 10px;">🧠 VAE Approach</h4>
                            <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                                <div class="bullet-icon" style="background: #1976d2;">✓</div>
                                <div><strong>Probabilistic:</strong> Latent space learning</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                                <div class="bullet-icon" style="background: #1976d2;">🔧</div>
                                <div><strong>Quality Control:</strong> Reconstruction error filtering</div>
                            </div>
                            <p style="margin: 10px 0; font-size: 0.9em;"><strong>Result:</strong> 99.49% F1-score</p>
                        </div>
                        
                        <div style="background: #e8f5e8; border: 2px solid #388e3c; border-radius: 10px; padding: 15px;">
                            <h4 style="color: #388e3c; margin-bottom: 10px;">⚡ GAN/TimeGAN</h4>
                            <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                                <div class="bullet-icon" style="background: #388e3c;">🎭</div>
                                <div><strong>Adversarial:</strong> Temporal pattern synthesis</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                                <div class="bullet-icon" style="background: #388e3c;">⏱️</div>
                                <div><strong>Temporal Coherence:</strong> Realistic dynamics</div>
                            </div>
                            <p style="margin: 10px 0; font-size: 0.9em;"><strong>Result:</strong> 99.43% F1-score</p>
                        </div>
                        
                        <div style="background: #fff3e0; border: 2px solid #f57c00; border-radius: 10px; padding: 15px;">
                            <h4 style="color: #f57c00; margin-bottom: 10px;">🔄 VAE-GAN Hybrid</h4>
                            <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                                <div class="bullet-icon" style="background: #f57c00;">🤝</div>
                                <div><strong>Combined:</strong> Best of both approaches</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                                <div class="bullet-icon" style="background: #f57c00;">📏</div>
                                <div><strong>Controlled:</strong> Equal synthetic mixing</div>
                            </div>
                            <p style="margin: 10px 0; font-size: 0.9em;"><strong>Result:</strong> 99.49% F1-score</p>
                        </div>
                    </div>
                </div>
                
                <div class="year-section">
                    <h3>💡 Key Insight: Controlled Quality over Quantity</h3>
                    <p>All three augmentation strategies achieved statistically indistinguishable performance (~99.5% F1-score). The success demonstrates that <strong>controlled, high-quality synthetic data generation with volume restrictions (1×-2× multipliers)</strong> is more critical than the specific generative modeling approach used.</p>
                </div>
            </div>
        </div>


    <div class="slide">
        <div class="slide-header">
            <h1>
                📊 Complete 5-Fold Cross-Validation Augmentation Analysis
            </h1>
            <div class="slide-number">23/35</div>
        </div>

        <div class="main-content">
            <!-- Method Controls -->
            <div class="controls">
                <button class="method-btn active" data-method="vae">
                    🧠 VAE
                </button>
                <button class="method-btn" data-method="gan">
                    ⚡ TimeGAN
                </button>
                <button class="method-btn" data-method="hybrid">
                    🔄 VAE-GAN
                </button>
            </div>

            <!-- Overview Statistics -->
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-value" id="totalSubjects">71</div>
                    <div class="stat-label">Total Subjects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalActivity">2,947,168</div>
                    <div class="stat-label">Activity Segments</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalFalls">32,806</div>
                    <div class="stat-label">Original Falls</div>
                </div>
                <div class="stat-card synthetic-highlight">
                    <div class="stat-value synthetic-value" id="avgSynthetic">+65,612</div>
                    <div class="stat-label">Avg Synthetic</div>
                </div>
            </div>

            <!-- Main Content Grid -->
            <div class="content-grid">
                <!-- Folds Results -->
                <div class="folds-section">
                    <h2>5-Fold Results</h2>
                    <div class="folds-grid" id="foldsContainer">
                        <!-- Fold cards will be generated by JavaScript -->
                    </div>
                </div>

                <!-- Details Panel -->
                <div class="details-panel">
                    <h2 id="methodTitle">VAE Configuration</h2>
                    
                    <div class="config-row">
                        <div class="model-params">
                            <h3>Model Parameters</h3>
                            <div id="modelParams">
                                <!-- Parameters will be loaded by JavaScript -->
                            </div>
                        </div>

                        <div class="metrics-section">
                            <h3>Performance Metrics</h3>
                            <div id="performanceMetrics">
                                <!-- Metrics will be loaded by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="slide">
    <div class="slide-header">
        <h2>🏗️ Dataset Collection & Validation</h2>
        <div class="slide-number">24/35</div>
    </div>
    <div class="slide-content">
        <div class="figure-placeholder">
            <img src="./Dataset_collection.png" alt="Construction Site Data Collection" width="750" height="400">
        </div>
        <div class="figure-caption">Figure 9: Participants engaged in various activities during the self-collected dataset acquisition sessions in controlled settings <cite>[4]</cite>.</div>
        
        <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
            <div style="flex: 1;">
                <h3>🎯 Problem-Focused Collection</h3>
                <div class="bullet-point">
                    <div class="bullet-icon">⚠️</div>
                    <div><strong>Target Activities:</strong> Jerky movements causing Year 2 false alarms</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🔧</div>
                    <div><strong>Enhanced Hardware:</strong> Improved PCB design based on field feedback</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">📱</div>
                    <div><strong>Mobile Control:</strong> Autonomous operation without cables</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🔋</div>
                    <div><strong>Extended Battery:</strong> Full shift operation capability</div>
                </div>
            </div>
                    <div style="flex: 1;">
                        <h3>📈 Collection Results</h3>
                        <div style="display: flex; justify-content: space-around; margin: 20px 0;">
                            <div class="impact-metric">
                                <div class="metric-number">480+</div>
                                <div class="metric-label">Hours Authentic Data</div>
                            </div>
                            <div class="impact-metric">
                                <div class="metric-number">29+</div>
                                <div class="metric-label">Total Participants</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-around; margin: 20px 0;">
                            <div class="impact-metric">
                                <div class="metric-number">44</div>
                                <div class="metric-label">Total Activity Types</div>
                            </div>
                            <div class="impact-metric">
                                <div class="metric-number">36</div>
                                <div class="metric-label">Fall Types Combined</div>
                            </div>
                        </div>
                    </div>
        </div>
                <div class="achievement-box" style="margin-top: 30px;">
                    <h3>💼 Year 3 Dataset Enhancement Impact</h3>
                    <p><strong>Problem-Driven Collection:</strong> Extended construction-site recordings captured natural stumbles, slips, and near-falls occurring spontaneously, providing realistic borderline cases that addressed Year 2 false alarm issues. Combined with KFall dataset, this created comprehensive coverage spanning 61 total subjects with authentic occupational movement patterns.</p>
                </div>
    </div>
</div>

            <!-- Slide 3: From Threshold-Based to Random Forest Intelligence -->
            <div class="slide">
                <div class="slide-header">
                    <h2>🌳 From Threshold-Based to Random Forest Intelligence</h2>
                    <div class="slide-number">25/35</div>
                </div>
                <div class="slide-content">
                    <div class="problem-solution-grid">
                        <div class="problem-box">
                            <h4>⚠️ Threshold-Based Limitations</h4>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #f44336;">❌</div>
                                <div><strong>Rigid Rule:</strong> Simple M=2 consecutive segments</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #f44336;">🚫</div>
                                <div><strong>Complex Movements:</strong> Cannot handle borderline cases</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #f44336;">⚡</div>
                                <div><strong>False Alarms:</strong> High rate during construction work</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #f44336;">🎯</div>
                                <div><strong>Static Approach:</strong> No learning from patterns</div>
                            </div>
                            
                            <div class="figure-placeholder" style="background: #ffebee; border-color: #f44336; margin: 15px 0; padding: 15px;">
                                <strong>Algorithm 1: Option A (Threshold)</strong><br>
                                if c ≥ 1 then Event ← Fall<br>
                                else Event ← Activity
                            </div>
                        </div>
                        
                        <div class="solution-box">
                            <h4>✅ Random Forest Advantages</h4>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #4caf50;">🧠</div>
                                <div><strong>Supervised Learning:</strong> Learns from training data</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #4caf50;">📊</div>
                                <div><strong>Confidence Dynamics:</strong> Uses CNN probability patterns</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #4caf50;">🎯</div>
                                <div><strong>Robust Decisions:</strong> Handles complex motion patterns</div>
                            </div>
                            <div class="bullet-point" style="background: transparent; border: none; padding: 5px 0;">
                                <div class="bullet-icon" style="background: #4caf50;">⚡</div>
                                <div><strong>Fast Inference:</strong> Negligible computational overhead</div>
                            </div>
                            
                            <div class="figure-placeholder" style="background: #e8f5e8; border-color: #4caf50; margin: 15px 0; padding: 15px;">
                                <strong>Algorithm 1: Option B (Random Forest)</strong><br>
                                6D feature vector from M=2 segments<br>
                                Ensemble decision with majority voting
                            </div>
                        </div>
                    </div>
                    
                    <h3>📈 Performance Comparison Results</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Approach</th>
                                <th>Falling F1-Score</th>
                                <th>Activity F1-Score</th>
                                <th>Overall Accuracy</th>
                                <th>Decision Complexity</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="threshold-bad">
                                <td><strong>Threshold-Based (M=2)</strong></td>
                                <td>95.2%</td>
                                <td>97.8%</td>
                                <td>96.5%</td>
                                <td>Static Rule</td>
                            </tr>
                            <tr class="rf-good">
                                <td><strong>Random Forest (M=2)</strong></td>
                                <td><strong>99.57%</strong></td>
                                <td><strong>99.63%</strong></td>
                                <td><strong>99.85%</strong></td>
                                <td>Learned Patterns</td>
                            </tr>
                            <tr>
                                <td><strong>Improvement</strong></td>
                                <td><strong>+4.37%</strong></td>
                                <td><strong>+1.83%</strong></td>
                                <td><strong>+3.35%</strong></td>
                                <td>Intelligent Decision</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="highlight-box">
                        <h3>🔍 Why Random Forest Works for Fall Detection</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            <div>
                                <h4>📊 Technical Advantages</h4>
                                <div class="bullet-point">
                                    <div class="bullet-icon">🎯</div>
                                    <div><strong>Pattern Recognition:</strong> Learns confidence dynamics from CNN outputs</div>
                                </div>
                                <div class="bullet-point">
                                    <div class="bullet-icon">🌳</div>
                                    <div><strong>Ensemble Robustness:</strong> Multiple decision trees reduce overfitting</div>
                                </div>
                                <div class="bullet-point">
                                    <div class="bullet-icon">⚡</div>
                                    <div><strong>Real-time Ready:</strong> Fast inference suitable for embedded systems</div>
                                </div>
                            </div>
                            <div>
                                <h4>🏗️ Real-world Impact</h4>
                                <div class="bullet-point">
                                    <div class="bullet-icon">🛡️</div>
                                    <div><strong>False Alarm Reduction:</strong> Better discrimination of complex work movements</div>
                                </div>
                                <div class="bullet-point">
                                    <div class="bullet-icon">🎯</div>
                                    <div><strong>Borderline Cases:</strong> Intelligent handling of ambiguous situations</div>
                                </div>
                                <div class="bullet-point">
                                    <div class="bullet-icon">⏱️</div>
                                    <div><strong>Temporal Intelligence:</strong> Considers short-term prediction sequences</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="year-section">
                        <h3>🎯 Event-Level Classification Revolution</h3>
                        <p>Replacing threshold-based aggregation with Random Forest classification represents a <strong>paradigm shift from rule-based to learning-based event detection</strong>. This innovation enables the system to achieve 99.5%+ F1-scores while maintaining real-time performance constraints essential for pre-impact safety device activation.</p>
                    </div>
                </div>
            </div>

            
            <!-- Slide 25: Detailed Results Analysis -->
            <div class="slide">
                <div class="slide-header">
                    <h2>📊 Detailed Performance Analysis & Results</h2>
                    <div class="slide-number">26/35</div>
                </div>
                <div class="slide-content">
                    <div class="highlight-box" style="text-align: center; margin-bottom: 20px;">
                        <h3>🔍 Comprehensive Evaluation: Augmentation Strategies & Classification Methods</h3>
                        <p>Detailed analysis of performance improvements across different augmentation techniques and classification approaches</p>
                    </div>
                    
                    <!-- First Row: Accuracy and Misclassification Charts -->
                    <div style="display: flex; justify-content: space-between; gap: 20px; margin: 20px 0;">
                        <div style="flex: 1;">
                            <div class="figure-placeholder">
                                <img src="./bar_Accuracy.png" alt="Accuracy Analysis by Augmentation Type" width="48%" height="auto" style="display: inline-block;">
                                <img src="./bar_Misclasification.png" alt="Misclassification Analysis by Augmentation Type" width="48%" height="auto" style="display: inline-block; margin-left: 2%;">
                            </div>
                            <div class="figure-caption">Figure 10a & 10b : (a) Accuracy comparison by augmentation type and class showing consistent 99%+ performance across VAE, GAN, and VAE-GAN approaches for both activity and falling detection. (b) Misclassification rates demonstrating significant reduction in false alarms with event-level Random Forest classification compared to segment-based approaches <cite>[4]</cite>.</div>
                        </div>
                    </div>
                    
                    <!-- Second Row: F1-Score and Event Level Comparisons -->
                    <div style="display: flex; justify-content: space-between; gap: 20px; margin: 20px 0;">
                        <div style="flex: 1;">
                            <div class="figure-placeholder">
                                <img src="./heat_Augmentation.png" alt="Augmentation Strategy F1-Score Heatmap" width="48%" height="auto" style="display: inline-block;">
                                <img src="./heat_Event_Level.png" alt="Event-Level vs Methodology Heatmap" width="48%" height="auto" style="display: inline-block; margin-left: 2%;">
                            </div>
                            <div class="figure-caption">Figure 10c & 10d: (c) F1-score heatmap showing performance across different augmentation strategies (Basic, GAN, VAE-GAN, VAE) with Random Forest consistently achieving 95%+ scores. (d) Event-level methodology comparison demonstrating breakthrough performance improvement from segment-based (91.39%) to event-based Random Forest (99.53%) classification <cite>[4]</cite>.</div>
                        </div>
                    </div>
                    
                    <!-- Key Findings Analysis -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin: 30px 0;">
                        <div class="achievement-box">
                            <h3>📈 Augmentation Strategy Impact</h3>
                            <div class="bullet-point">
                                <div class="bullet-icon">🧬</div>
                                <div><strong>VAE Performance:</strong> 95.55% F1-score with controlled generation</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">⚡</div>
                                <div><strong>GAN Strategy:</strong> 95.47% F1-score with adversarial training</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🔄</div>
                                <div><strong>VAE-GAN Hybrid:</strong> 95.58% F1-score combining best approaches</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">📊</div>
                                <div><strong>Key Insight:</strong> All augmentation methods achieve similar performance (~95.5%)</div>
                            </div>
                        </div>
                        
                        <div class="highlight-box">
                            <h3>🎯 Classification Method Revolution</h3>
                            <div class="bullet-point">
                                <div class="bullet-icon">❌</div>
                                <div><strong>Segment-Based Limit:</strong> 91.39% F1-score ceiling</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🌳</div>
                                <div><strong>Event-Level Breakthrough:</strong> 99.53% F1-score achievement</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">📈</div>
                                <div><strong>Performance Gain:</strong> +8.14% improvement magnitude</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">⚡</div>
                                <div><strong>False Alarm Reduction:</strong> Dramatic misclassification decrease</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Performance Comparison Table -->
                    <table class="comparison-table" style="margin: 20px 0;">
                        <tr>
                            <th>Performance Aspect</th>
                            <th>Segment-Based Approach</th>
                            <th>Event-Level Random Forest</th>
                            <th>Improvement</th>
                            <th>Real-World Impact</th>
                        </tr>
                        <tr style="background-color: #e8f5e8;">
                            <td><strong>Overall F1-Score</strong></td>
                            <td>91.39%</td>
                            <td><strong>99.53%</strong></td>
                            <td>+8.14%</td>
                            <td>Commercial deployment ready</td>
                        </tr>
                        <tr style="background-color: #e3f2fd;">
                            <td><strong>Activity Classification</strong></td>
                            <td>High false positive rate</td>
                            <td><strong>99%+ accuracy</strong></td>
                            <td>Substantial</td>
                            <td>Construction site approved</td>
                        </tr>
                        <tr style="background-color: #fff3e0;">
                            <td><strong>Fall Detection</strong></td>
                            <td>Moderate sensitivity</td>
                            <td><strong>99%+ sensitivity</strong></td>
                            <td>Major improvement</td>
                            <td>Safety standard compliance</td>
                        </tr>
                        <tr style="background-color: #f3e5f5;">
                            <td><strong>Augmentation Impact</strong></td>
                            <td>Limited data variety</td>
                            <td><strong>Robust generalization</strong></td>
                            <td>Enhanced</td>
                            <td>Multiple environment deployment</td>
                        </tr>
                    </table>
                    
                    <div class="conclusion-highlight">
                        <h2>🎯 Critical Performance Insights</h2>
                        <p><strong>Methodology Revolution:</strong> The transition from segment-based to event-level classification represents the decisive breakthrough, achieving 99.5%+ performance across all metrics. While augmentation strategies (VAE/GAN/Hybrid) provide consistent improvements, the classification methodology innovation was the key to commercial viability.</p>
                    </div>
                </div>
            </div>
        

            <div class="slide">
        <div class="slide-header">
            <h2>🚀 Complete Methodology Pipeline: From Raw Data to Deployment</h2>
            <div class="slide-number">27/35</div>
        </div>
        <div class="slide-content">
            <div class="pipeline-container">
                <!-- Data Packet Animation -->
                <div class="data-packet" id="dataPacket">
                    <div class="packet-icon">📊</div>
                    <div class="packet-label">IMU Data</div>
                </div>

                <!-- Stage 1: Raw Data Acquisition -->
                <div class="pipeline-stage stage-1" id="stage1">
                    <div class="stage-header">
                        <h3>📡 Stage 1: Raw Data Acquisition</h3>
                    </div>
                    <div class="stage-content">
                        <div class="human-body">
                            <div class="body-icon">👤</div>
                            <div class="sensor-position">📱</div>
                        </div>
                        <div class="data-streams">
                            <div class="stream acc-stream">
                                <span class="stream-label">Accelerometer</span>
                                <div class="stream-waves"></div>
                            </div>
                            <div class="stream gyro-stream">
                                <span class="stream-label">Gyroscope</span>
                                <div class="stream-waves"></div>
                            </div>
                        </div>
                        <div class="stage-params">
                            <div class="param">Fs = 100 Hz</div>
                            <div class="param">Tri-axial ACC + GYRO</div>
                            <div class="param">STM32 on back</div>
                        </div>
                    </div>
                </div>

                <!-- Stage 2: Signal Refinement -->
                <div class="pipeline-stage stage-2" id="stage2">
                    <div class="stage-header">
                        <h3>🔧 Stage 2: Signal Refinement</h3>
                    </div>
                    <div class="stage-content">
                        <div class="processing-chain">
                            <div class="process-box filter-box">
                                <div class="box-icon">📈</div>
                                <div class="box-label">Butterworth LPF</div>
                                <div class="box-detail">5 Hz cutoff</div>
                            </div>
                            <div class="arrow">→</div>
                            <div class="process-box norm-box">
                                <div class="box-icon">⚖️</div>
                                <div class="box-label">Z-Score Norm</div>
                                <div class="box-detail">Per channel</div>
                            </div>
                            <div class="arrow">→</div>
                            <div class="process-box window-box">
                                <div class="box-icon">🪟</div>
                                <div class="box-label">Windowing</div>
                                <div class="box-detail">300ms, 50% overlap</div>
                            </div>
                        </div>
                    </div>
                </div>

               <!-- Stage 3: Segment-Level CNN -->
                <div class="pipeline-stage stage-3" id="stage3">
                    <div class="stage3-row" id="stage3Row">
                      <div class="hdr">🧠 Stage 3: Segment-Level CNN Training</div>
                      <div class="grid">
                        <div class="s3-card cv">
                          <div>5-Fold Subject-Wise CV</div>
                          <div class="s3-sub">Train / Val / Test splits</div>
                          <div class="badge">subject-based</div>
                        </div>
                        
                        <div class="s3-card aug">
                          <div>Data Augmentation Pipeline</div>
                          <div class="pills">
                            <span class="pill">Time Warp</span>
                            <span class="pill">Win. Slice</span>
                            <span class="pill">Falling</span>
                            <span class="pill">Win. Wrap</span>
                          </div>
                        </div>
                
                        <div class="s3-card adv">
                          <div>Advanced Sampling Architecture</div>
                          <div class="s3-sub">(Select One)</div>
                          <div class="pills">
                            <span class="pill">VAE</span>
                            <span class="pill">GAN</span>
                            <span class="pill">VAE-GAN</span>
                          </div>
                        </div>

                        <div class="s3-card trn">
                          <div>Lightweight 1D-CNN Training</div>
                          <div class="s3-sub">Class-weighted CE, Early stopping</div>
                          <div class="s3-sub"><b>Best checkpoint per fold → 5 best</b></div>
                        </div>
                      </div>
                    </div>
                    <div class="stage3-note">These 5 best checkpoints are used as input to Stage 4 (Event-level).</div>

                </div>

                <!-- Stage 4: Event Features → Random Forest -->
                <div class="pipeline-stage stage-4" id="stage4">
                    <div class="stage-header">
                        <h3>🌳 Stage 4: Stage 4: Event-Level Classification (Random Forest)</h3>
                    </div>
                    <div class="stage-content">
                        <div class="event-pipeline">
                            <div class="cnn-outputs">
                                <div class="outputs-title">CNN Outputs</div>
                                <div class="model-outputs">
                                    <div class="fold-output">Fold 1</div>
                                    <div class="fold-output">Fold 2</div>
                                    <div class="fold-output">Fold 3</div>
                                    <div class="fold-output">Fold 4</div>
                                    <div class="fold-output">Fold 5</div>
                                </div>
                            </div>
                            <div class="arrow">→</div>
                            <div class="prob-processing">
                                <div class="prob-title">M=2 Resampling</div>
                                <div class="prob-values">
                                    <span class="prob-val">p₁</span>
                                    <span class="prob-val">p₂</span>
                                </div>
                            </div>
                            <div class="arrow">→</div>
                            <div class="feature-extraction">
                                <div class="feature-title">6D Features</div>
                                <div class="feature-list">
                                    <div class="feature">φ₁: mean level</div>
                                    <div class="feature">φ₂: peak position</div>
                                    <div class="feature">φ₃: fraction ≥ 0.5</div>
                                    <div class="feature">φ₄: fraction ≥ 0.7</div>
                                    <div class="feature">φ₅: up-crossing @ 0.5</div>
                                    <div class="feature">φ₆: up-crossing @ 0.7</div>
                                </div>
                            </div>
                            <div class="arrow">→</div>
                            <div class="rf-training-block">
                                <div class="rf-title">RF Training</div>
                                <div class="rf-icon">🌲🌲🌲</div>
                                <div class="rf-cv">5-fold OOF</div>
                                <div class="rf-output">Final RF Model</div>
                            </div>
                        </div>
                        <div class="stage-params">
                            <div class="param">Testing Phase</div>
                            <div class="param">Performance Evaluation</div>
                        </div>
                    </div>
                </div>

                <!-- Stage 5: Deployment -->
                <div class="pipeline-stage stage-5" id="stage5">
                    <div class="stage-header">
                        <h3>⚡ Stage 5: STM32 Deployment</h3>
                    </div>
                    <div class="stage-content">
                        <div class="deployment-chain">
                            <div class="stm32-chip">
                                <div class="chip-icon">💾</div>
                                <div class="chip-label">STM32F722RET6</div>
                            </div>
                            <div class="deployment-flow">
                                <div class="flow-step">IMU</div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">CNN</div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">Features</div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">RF</div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step decision">Decision</div>
                            </div>
                            <div class="latency-info">
                                <div class="latency-value">⏱️ 450ms ± 5ms</div>
                                <div class="latency-label">Decision Latency</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Animation Control -->
                <div class="animation-controls">
                    <button class="control-btn" onclick="startPipelineAnimation()">▶️ Start Animation</button>
                    <button class="control-btn" onclick="resetPipelineAnimation()">🔄 Reset</button>
                </div>
            </div>
        </div>
    </div>

        <!-- Slide 20: Year 3 Overview & Breakthrough -->
<div class="slide">
    <div class="slide-header">
        <h2>🚀 Year 3 (2024-2025): Breakthrough Performance</h2>
        <div class="slide-number">28/35</div>
    </div>
    <div class="slide-content">
        <div class="year-section">
            <h3>🔧 Year 3 Mission: From Field Problems to Breakthrough Solutions</h3>
            <p>Address real-world false alarm issues discovered during Year 2 field testing through systematic dataset enhancement, international collaboration, and advanced methodological innovations</p>
        </div>
        
        <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
            <div style="flex: 1;">
                <h3>🚧 Problem-Driven Research</h3>
                <div class="bullet-point">
                    <div class="bullet-icon">📊</div>
                    <div><strong>New Dataset Collection:</strong> Construction site + controlled environment</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🤝</div>
                    <div><strong>Norway Collaboration:</strong> Prof. Fadi expertise in data augmentation</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🎯</div>
                    <div><strong>Advanced Augmentation:</strong> VAE, GAN, and hybrid approaches</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">⚡</div>
                    <div><strong>Event-Level Methods:</strong> Threshold-based vs. Random Forest</div>
                </div>
            </div>
            
            <div style="flex: 1;">
                <h3>🏆 Breakthrough Results</h3>
                <div class="impact-metric">
                    <div class="metric-number">99.56%</div>
                    <div class="metric-label">F1-Score Achievement</div>
                </div>
                <div style="text-align: center; margin: 15px 0;">
                    <div style="color: #4caf50; font-size: 1.8em; font-weight: bold;">+12.87% Improvement</div>
                    <div style="color: #666; font-size: 1.1em;">False alarms: 2.04% → 0.06%</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">📄</div>
                    <div><strong>IEEE Sensors Manuscript:</strong> Ready for submission</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">💻</div>
                    <div><strong>STM32 Implementation:</strong> 450ms decision latency</div>
                </div>
            </div>
        </div>
        
        <div style="display: flex; justify-content: space-around; margin: 30px 0;">
            <div class="performance-metric" style="background: linear-gradient(135deg, #4caf50, #2e7d32);">
                <div>Solution: 99.56% F1-Score</div>
            </div>
            <div class="performance-metric" style="background: linear-gradient(135deg, #2196f3, #1565c0);">
                <div>Method: Event-Level Classification</div>
            </div>
            <div class="performance-metric" style="background: linear-gradient(135deg, #9c27b0, #6a1b9a);">
                <div>Data: 480+ Hours Real-World</div>
            </div>
            <div class="performance-metric" style="background: linear-gradient(135deg, #ff9800, #f57c00);">
                <div>Output: IEEE Sensors Ready</div>
            </div>
        </div>
        
        <div class="achievement-box">
            <h3>🎯 Year 3 Revolutionary Advancement</h3>
            <p><strong>Problem-to-Solution Journey:</strong> Real-world false alarm issues drove systematic improvements through enhanced datasets, Prof. Fadi's augmentation expertise, event-level classification innovation, and comprehensive validation. Result: deployment-ready technology with 99.56% accuracy and IEEE Sensors manuscript completion.</p>
        </div>
    </div>
</div>
<!-- Enhanced International Collaboration Slide -->
        <div class="slide">
            <div class="slide-header">
                <h2>🌍 International Research Collaboration Network</h2>
                <div class="slide-number">29/35</div>
            </div>
            <div class="slide-content">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 28px; margin-bottom: 40px;">
                    <!-- Professor Graziano Pravadelli -->
                    <div class="publication-card" style="background: linear-gradient(145deg, #1e3c72 0%, #2a5298 100%); color: white; border: 2px solid #34568b; position: relative; overflow: hidden; box-shadow: 0 12px 35px rgba(30,60,114,0.25);">
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, #3b82f6, #1d4ed8);"></div>
                        <div style="display: flex; align-items: center; gap: 22px; margin-bottom: 24px; padding-top: 10px;">
                            <div style="width: 75px; height: 75px; border-radius: 50%; background: url('./Graziano.JPG') center/cover; border: 3px solid rgba(255,255,255,0.9); box-shadow: 0 4px 15px rgba(59,130,246,0.4);"></div>
                            <div>
                                <h3 style="margin: 0; font-size: 1.35em; font-weight: 600; color: #ffffff; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">🇮🇹 Prof. Graziano Pravadelli</h3>
                                <p style="margin: 8px 0 4px 0; font-weight: 500; color: #e1e7ff;"><strong>PhD Supervisor</strong><cite>[5]</cite></p>
                                <p style="margin: 0; font-size: 0.95em; color: #b3c6ff; font-weight: 400;">University of Verona, Italy</p>
                            </div>
                        </div>
                        <div style="space-y: 14px;">
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #3b82f6; color: white;">🎓</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Exceptional PhD supervision & strategic guidance</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #3b82f6; color: white;">🔬</div>
                                <div style="font-size: 0.98em; font-weight: 400;">IoT systems & assistive technologies leader</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #3b82f6; color: white;">💡</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Strategic research vision & innovation</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 22px; padding: 12px 16px; background: rgba(59,130,246,0.15); border-radius: 12px; border: 1px solid rgba(59,130,246,0.3); font-style: italic; font-size: 0.92em; color: #e1e7ff;">
                            "Invaluable mentorship throughout this journey"
                        </div>
                    </div>
                    
                    <!-- Dr. Florenc Demrozi -->
                    <div class="publication-card" style="background: linear-gradient(145deg, #065f46 0%, #047857 100%); color: white; border: 2px solid #059669; position: relative; overflow: hidden; box-shadow: 0 12px 35px rgba(6,95,70,0.25);">
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, #10b981, #047857);"></div>
                        <div style="display: flex; align-items: center; gap: 22px; margin-bottom: 24px; padding-top: 10px;">
                            <div style="width: 75px; height: 75px; border-radius: 50%; background: url('./florenc.jpg') center/cover; border: 3px solid rgba(255,255,255,0.9); box-shadow: 0 4px 15px rgba(16,185,129,0.4);"></div>
                            <div>
                                <h3 style="margin: 0; font-size: 1.35em; font-weight: 600; color: #ffffff; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">🇳🇴 Dr. Florenc Demrozi</h3>
                                <p style="margin: 8px 0 4px 0; font-weight: 500; color: #d1fae5;"><strong>Co-Supervisor</strong> <cite>[6]</cite></p>
                                <p style="margin: 0; font-size: 0.95em; color: #a7f3d0; font-weight: 400;">University of Stavanger, Norway</p>
                            </div>
                        </div>
                        <div style="space-y: 14px;">
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #10b981; color: white;">🔬</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Biomedical Engineering expertise</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #10b981; color: white;">📊</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Sensor application specialization</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #10b981; color: white;">🎯</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Clear technical guidance & skill development</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #10b981; color: white;">🤝</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Continuous support beyond academic boundaries</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 22px; padding: 12px 16px; background: rgba(16,185,129,0.15); border-radius: 12px; border: 1px solid rgba(16,185,129,0.3); font-style: italic; font-size: 0.92em; color: #d1fae5;">
                            "Technical excellence & collaborative partnership"
                        </div>
                    </div>

                    <!-- Dr. Fadi Al Machot -->
                    <div class="publication-card" style="background: linear-gradient(145deg, #7c2d12 0%, #9a3412 100%); color: white; border: 2px solid #c2410c; position: relative; overflow: hidden; box-shadow: 0 12px 35px rgba(124,45,18,0.25);">
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, #ea580c, #c2410c);"></div>
                        <div style="display: flex; align-items: center; gap: 22px; margin-bottom: 24px; padding-top: 10px;">
                            <div style="width: 75px; height: 75px; border-radius: 50%; background: url('./macho.jpg') center/cover; border: 3px solid rgba(255,255,255,0.9); box-shadow: 0 4px 15px rgba(234,88,12,0.4);"></div>
                            <div>
                                <h3 style="margin: 0; font-size: 1.35em; font-weight: 600; color: #ffffff; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">🇳🇴 Dr. Fadi Al Machot</h3>
                                <p style="margin: 8px 0 4px 0; font-weight: 500; color: #fed7aa;"><strong>Research Collaborator</strong> <cite>[6]</cite></p>
                                <p style="margin: 0; font-size: 0.95em; color: #fdba74; font-weight: 400;">Norwegian Univ. Life Sciences</p>
                            </div>
                        </div>
                        <div style="space-y: 14px;">
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #ea580c; color: white;">🧠</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Advanced Machine Learning</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #ea580c; color: white;">🎯</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Generative modeling expertise</div>
                            </div>
                            <div class="bullet-point" style="margin-bottom: 14px; align-items: center;">
                                <div class="bullet-icon" style="background: #ea580c; color: white;">⏱️</div>
                                <div style="font-size: 0.98em; font-weight: 400;">Time-series classification</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 22px; padding: 12px 16px; background: rgba(234,88,12,0.15); border-radius: 12px; border: 1px solid rgba(234,88,12,0.3); font-style: italic; font-size: 0.92em; color: #fed7aa;">
                            "Valuable research insights & collaboration"
                        </div>
                    </div>
                </div>
                
                <!-- Acknowledgment Section -->
                <div style="background: linear-gradient(145deg, #1f2937 0%, #374151 100%); border: 2px solid #4b5563; border-radius: 20px; padding: 40px; margin-bottom: 30px; text-align: center; color: white; box-shadow: 0 15px 40px rgba(31,41,55,0.3);">
                    <div style="border-bottom: 3px solid #6366f1; width: 80px; margin: 0 auto 25px auto;"></div>
                    <h3 style="font-size: 2.1em; margin: 0 0 30px 0; font-weight: 600; color: #f9fafb;">🙏 Professional Acknowledgment</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 35px; margin-top: 30px;">
                        <div style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); padding: 28px; border-radius: 16px; box-shadow: 0 8px 25px rgba(59,130,246,0.25);">
                            <h4 style="margin: 0 0 15px 0; font-size: 1.4em; font-weight: 600;">🎓 Academic Leadership</h4>
                            <p style="margin: 0; line-height: 1.6; font-size: 1.08em; font-weight: 400;"><strong>Prof. Graziano</strong> & <strong>Dr. Florenc</strong> - Your exceptional supervision, continuous support, and invaluable guidance have been fundamental to achieving this research excellence.</p>
                        </div>
                        <div style="background: linear-gradient(135deg, #10b981, #047857); padding: 28px; border-radius: 16px; box-shadow: 0 8px 25px rgba(16,185,129,0.25);">
                            <h4 style="margin: 0 0 15px 0; font-size: 1.4em; font-weight: 600;">🤝 Research Partnership</h4>
                            <p style="margin: 0; line-height: 1.6; font-size: 1.08em; font-weight: 400;"><strong>Dr. Fadi</strong> - Sincere appreciation for your collaborative research contributions, methodological insights, and international perspective that enriched this work.</p>
                        </div>
                    </div>
                </div>

                <!-- Global Impact Section -->
                <div class="achievement-box" style="background: linear-gradient(145deg, #0f172a 0%, #1e293b 100%); color: white; border: 2px solid #475569; border-radius: 18px; padding: 35px; box-shadow: 0 12px 35px rgba(15,23,42,0.4);">
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #6366f1, #4f46e5); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8em;">🌍</div>
                        <h3 style="font-size: 1.9em; margin: 0; font-weight: 600; color: #f1f5f9;">International Research Excellence</h3>
                    </div>
                    <p style="margin: 0; font-size: 1.18em; line-height: 1.7; font-weight: 400; color: #cbd5e1;"><strong>Cross-border academic collaboration</strong> spanning Italy and Norway has facilitated breakthrough research achievements, methodological innovations, and established robust foundations for sustained international partnerships extending beyond doctoral completion.</p>
                </div>
            </div>
        </div>

        <!-- Slide 19: Publications and Recognition -->
        <div class="slide">
            <div class="slide-header">
                <h2>Publications and Academic Recognition</h2>
                <div class="slide-number">30/35</div>
            </div>
            <div class="slide-content">
                <div class="publication-card">
                    <h3>📚 Survey Publication - IEEE Access (2024)</h3>
                    <p><strong>"ICT-Based Solutions for Alzheimer's Disease Care: A Systematic Review" <cite>[1]</cite></strong></p>
                    <div class="bullet-point">
                        <div class="bullet-icon">📊</div>
                        <div><strong>Scope:</strong> Analyzed 2,459 papers across 8 technology domains</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">🌟</div>
                        <div><strong>Impact:</strong> Comprehensive foundation for assistive technology research</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">🔗</div>
                        <div><strong>Citation:</strong> DOI: 10.1109/ACCESS.2024.3358348</div>
                    </div>
                </div>
                
                <div class="publication-card">
                    <div class="award-badge">🏆 DATE 2025 Best Paper Award</div>
                    <h3>🎯 Conference Publication - DATE 2025</h3>
                    <p><strong>"A Lightweight CNN for Real-Time Pre-Impact Fall Detection" <cite>[2]</cite></strong></p>
                    <div class="bullet-point">
                        <div class="bullet-icon">⚡</div>
                        <div><strong>Achievement:</strong> 86.69% F1-score with STM32 embedded deployment</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">🏅</div>
                        <div><strong>Recognition:</strong> Technical excellence and practical impact</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">💡</div>
                        <div><strong>Innovation:</strong> First practical pre-impact detection on microcontrollers</div>
                    </div>
                </div>
                
                <div class="publication-card">
                    <h3>📖 Journal Submission - IEEE Sensors (manuscript ready)</h3>
                    <p><strong>"A Lightweight CNN for Real-Time Pre-Impact Fall Detection (Extended Version)" <cite>[4]</cite></strong></p>
                    <div class="bullet-point">
                        <div class="bullet-icon">🚀</div>
                        <div><strong>Breakthrough:</strong> 99.56% F1-score through event-level classification</div>
                    </div>
                    <div class="bullet-point">
                        <div class="bullet-icon">🤝</div>
                        <div><strong>Collaboration:</strong> International co-authors from Norway</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 20: Conclusion -->
        <div class="slide">
            <div class="slide-header">
                <h2>Conclusion</h2>
                <div class="slide-number">31/35</div>
            </div>
            <div class="slide-content conclusion-slide">
                <div class="conclusion-highlight">
                    <h1 style="font-size: 2.5em; margin-bottom: 20px;">Mission Accomplished</h1>
                    <p style="font-size: 1.3em; line-height: 1.6;">From initial ambitious goals through strategic adaptation to significant breakthroughs in pre-impact fall detection systems</p>
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 30px; margin: 40px 0;">
                    <div class="achievement-box" style="flex: 1;">
                        <h3>🎯 Original Objectives</h3>
                        <div style="text-align: center; font-size: 3em; color: #4caf50;">✓</div>
                        <p><strong>ACHIEVED:</strong> Assistive solutions for frail populations with IoT-based monitoring systems</p>
                    </div>
                    
                    <div class="achievement-box" style="flex: 1;">
                        <h3>📈 Performance Targets</h3>
                        <div style="text-align: center; font-size: 3em; color: #4caf50;">✓</div>
                        <p><strong>EXCEEDED:</strong> 99.56% F1-score surpasses 90% original goal</p>
                    </div>
                    
                    <div class="achievement-box" style="flex: 1;">
                        <h3>🏭 Practical Impact</h3>
                        <div style="text-align: center; font-size: 3em; color: #4caf50;">✓</div>
                        <p><strong>DEMONSTRATED:</strong> Real-world deployment with commercial viability</p>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <h3>🏆 Key Success Factors</h3>
                    <div style="display: flex; justify-content: space-between; gap: 20px;">
                        <div style="flex: 1;">
                            <div class="bullet-point">
                                <div class="bullet-icon">🔄</div>
                                <div><strong>Strategic Adaptability:</strong> Flexible approach while maintaining core objectives</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">💡</div>
                                <div><strong>Technical Innovation:</strong> Novel event-level classification methodology</div>
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <div class="bullet-point">
                                <div class="bullet-icon">🤝</div>
                                <div><strong>Collaborative Approach:</strong> International partnerships and industry engagement</div>
                            </div>
                            <div class="bullet-point">
                                <div class="bullet-icon">🎨</div>
                                <div><strong>Persistent Excellence:</strong> Continuous refinement and validation</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: center; gap: 20px; margin-top: 30px;">
                    <div class="performance-metric">Assistive Technology Innovation</div>
                    <div class="performance-metric">Real-World Impact</div>
                    <div class="performance-metric">Future Ready Solutions</div>
                </div>
            </div>
        </div>



        <div class="slide">
    <div class="slide-header">
        <h2>🚀 Future Work & Research Directions</h2>
        <div class="slide-number">32/35</div>
    </div>
    <div class="slide-content">
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin: 20px 0;">
            
            <!-- Medical Applications -->
            <div style="background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%); border: 2px solid #4caf50; border-radius: 15px; padding: 20px; position: relative;">
                <div style="position: absolute; top: -15px; left: 20px; background: #4caf50; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">🏥 HEALTHCARE</div>
                <h3 style="color: #2e7d32; margin: 15px 0 15px 0;">Medical Applications Extension</h3>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #4caf50;">🧠</div>
                    <div><strong>Parkinson's Disease:</strong> Test effectiveness on movement disorders</div>
                </div>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #4caf50;">👴</div>
                    <div><strong>Elderly Care:</strong> Adapt for age-related mobility changes</div>
                </div>
            </div>

            <!-- Dataset Enhancement -->
            <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border: 2px solid #2196f3; border-radius: 15px; padding: 20px; position: relative;">
                <div style="position: absolute; top: -15px; left: 20px; background: #2196f3; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">📊 DATA</div>
                <h3 style="color: #1565c0; margin: 15px 0 15px 0;">Enhanced Dataset Collection</h3>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #2196f3;">📈</div>
                    <div><strong>Realistic Scenarios:</strong> Reduce augmentation dependency</div>
                </div>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #2196f3;">👥</div>
                    <div><strong>Diverse Populations:</strong> Multiple age groups & conditions</div>
                </div>
            </div>

            <!-- Single Architecture -->
            <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%); border: 2px solid #ff9800; border-radius: 15px; padding: 20px; position: relative;">
                <div style="position: absolute; top: -15px; left: 20px; background: #ff9800; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">⚡ ARCHITECTURE</div>
                <h3 style="color: #e65100; margin: 15px 0 15px 0;">Single-Level Architecture</h3>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #ff9800;">🔄</div>
                    <div><strong>Unified Model:</strong> Replace two-level approach</div>
                </div>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #ff9800;">⚡</div>
                    <div><strong>Faster Response:</strong> Reduce 450ms decision time</div>
                </div>
            </div>

            <!-- Multi-Modal Sensors -->
            <div style="background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border: 2px solid #9c27b0; border-radius: 15px; padding: 20px; position: relative;">
                <div style="position: absolute; top: -15px; left: 20px; background: #9c27b0; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">🔗 SENSORS</div>
                <h3 style="color: #6a1b9a; margin: 15px 0 15px 0;">Multi-Modal Sensor Integration</h3>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #9c27b0;">📡</div>
                    <div><strong>Additional Sensors:</strong> Pressure, heart rate, environmental</div>
                </div>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none;">
                    <div class="bullet-icon" style="background: #9c27b0;">🎯</div>
                    <div><strong>Enhanced Accuracy:</strong> Sensor fusion algorithms</div>
                </div>
            </div>
        </div>

        <!-- Industrial Applications - Full Width -->
        <div style="background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%); border: 2px solid #f44336; border-radius: 15px; padding: 20px; position: relative; margin-top: 25px;">
            <div style="position: absolute; top: -15px; left: 20px; background: #f44336; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">🏗️ INDUSTRY</div>
            <h3 style="color: #c62828; margin: 15px 0 15px 0;">Broader Industrial Applications</h3>
            <div style="display: flex; justify-content: space-between; gap: 40px;">
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none; flex: 1;">
                    <div class="bullet-icon" style="background: #f44336;">⛏️</div>
                    <div><strong>High-Risk Industries:</strong> Mining, manufacturing, aviation sectors</div>
                </div>
                <div class="bullet-point" style="background: transparent; padding: 5px 0; border: none; flex: 1;">
                    <div class="bullet-icon" style="background: #f44336;">🏢</div>
                    <div><strong>Enterprise Deployment:</strong> Large-scale safety management systems</div>
                </div>
            </div>
        </div>

        <!-- Bottom Summary -->
        <div style="text-align: center; margin-top: 30px; padding: 15px; background: linear-gradient(90deg, #263238 0%, #37474f 100%); color: white; border-radius: 10px;">
            <h3 style="margin: 0; color: #fff;">🎯 Impact: Enhanced Safety Through Advanced AI-Driven Fall Detection Systems</h3>
        </div>
    </div>
</div>



  <div class="slide">
        <!-- Header -->
        <div class="slide-header">
            <h2>🎯 Random Forest Decision Process: From Features to Classification</h2>
            <div class="slide-number">33/35</div>
        </div>

            <div class="story-stage">
                <!-- Data Input Section -->
            <div class="section">
                <div class="math-character" id="mathChar">🤖</div>
                <h3 class="section-title">📊 Input: CNN Confidences</h3>
                
                <div class="scenario-info" id="scenarioInfo">
                    <strong>Scenario:</strong> <span id="scenarioName">Late Fall Detection</span>
                </div>
                
                <div class="sample-data">
                    <div class="data-point" id="segment1">
                        <div class="confidence-value" id="p1Value">p₁ = 0.3</div>
                        <div class="segment-label">300ms</div>
                    </div>
                    <div class="data-point" id="segment2">
                        <div class="confidence-value" id="p2Value">p₂ = 0.8</div>
                        <div class="segment-label">300ms</div>
                    </div>
                </div>
    
                <div class="progress-container">
                    <div class="responsive-text">Calculation Progress:</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
    
                <!-- Decision Rules Box -->
                <div class="decision-rules">
                    <h4 style="color: #2c5aa0; font-size: 0.9em; margin-bottom: 8px; text-align: center;">🧠 RF Decision Rules</h4>
                    
                    <div class="rule-item">
                      <div class="rule-label">🚨 FALLING detection:</div>
                      <div class="rule-formula">Learned splits on φ₁…φ₆</div>
                      <div class="rule-description">RF combines mean level, peak position, occupancy, and up-crossings to classify events.</div>
                    </div>
                    
                    <div class="rule-item">
                      <div class="rule-label">✅ ACTIVITY detection:</div>
                      <div class="rule-formula">No fixed thresholds</div>
                      <div class="rule-description">RF learns decision boundaries automatically from training data.</div>
                    </div>

                    <div class="rule-item key-insight">
                        <div class="rule-label">🔑 Key:</div>
                        <div class="rule-formula">Features φ₁–φ₆</div>
                        <div class="rule-description">φ₁: mean level, φ₂: peak position (0.0 or 0.5), φ₃–φ₄: occupancy at 0.5/0.7, φ₅–φ₆: up-crossings at 0.5/0.7</div>
                    </div>
                </div>
            </div>

            <!-- Feature Calculations Section -->
            <div class="section">
                <h3 class="section-title">⚡ Live Feature Extraction</h3>
                
                <div class="calculation-display" id="calculations">
                    <div class="calculation-step" id="step1">
                        <span class="formula">φ₁ = μ =</span> (1/M) × Σ p̃ᵢ
                    </div>
                    <div class="calculation-step" id="step2">
                        φ₁ = (1/2) × (<span id="calc_p1">0.3</span> + <span id="calc_p2">0.8</span>) = <span class="result-value" id="result_phi1">0.55</span>
                    </div>
                    
                    <div class="calculation-step" id="step3">
                        <span class="formula">φ₂ = π =</span> (arg max p̃ᵢ) / M
                    </div>
                    <div class="calculation-step" id="step4">
                        φ₂ = <span id="peak_pos">2</span>/2 = <span class="result-value" id="result_phi2">1.0</span>
                    </div>
                    
                    <div class="calculation-step" id="step5">
                        <span class="formula">φ₃ = q₀.₅ =</span> (1/M) × count(p̃ᵢ ≥ 0.5)
                    </div>
                    <div class="calculation-step" id="step6">
                        φ₃ = (1/2) × <span id="count_05">1</span> = <span class="result-value" id="result_phi3">0.5</span>
                    </div>
                    
                    <div class="calculation-step" id="step7">
                        <span class="formula">φ₄ = q₀.₇ =</span> (1/M) × count(p̃ᵢ ≥ 0.7)  
                    </div>
                    <div class="calculation-step" id="step8">
                        φ₄ = (1/2) × <span id="count_07">1</span> = <span class="result-value" id="result_phi4">0.5</span>
                    </div>
                    
                    <div class="calculation-step" id="step9">
                        <span class="formula">φ₅ = c₀.₅ =</span> Up-crossings at 0.5
                    </div>
                    <div class="calculation-step" id="step10">
                        φ₅ = <span id="cross_05">1</span>/(M-1) = <span class="result-value" id="result_phi5">1.0</span>
                    </div>
                    
                    <div class="calculation-step" id="step11">
                        <span class="formula">φ₆ = c₀.₇ =</span> Up-crossings at 0.7
                    </div>
                    <div class="calculation-step" id="step12">
                        φ₆ = <span id="cross_07">1</span>/(M-1) = <span class="result-value" id="result_phi6">1.0</span>
                    </div>
                </div>
            </div>
           
            <!-- Results & Decision Section -->
            <div class="section">
                <h3 class="section-title">🎯 Features → RF Decision</h3>
                
                <div id="featureResults">
                    <div class="feature-result" id="result1">
                        <div class="feature-name">φ₁ - Mean</div>
                        <div class="feature-value" id="display_phi1">0.55</div>
                    </div>
                    <div class="feature-result" id="result2">
                        <div class="feature-name">φ₂ - Peak</div>
                        <div class="feature-value" id="display_phi2">1.0</div>
                    </div>
                    <div class="feature-result" id="result3">
                        <div class="feature-name">φ₃ - Above 0.5</div>
                        <div class="feature-value" id="display_phi3">0.5</div>
                    </div>
                    <div class="feature-result" id="result4">
                        <div class="feature-name">φ₄ - Above 0.7</div>
                        <div class="feature-value" id="display_phi4">0.5</div>
                    </div>
                    <div class="feature-result" id="result5">
                        <div class="feature-name">φ₅ - Cross 0.5</div>
                        <div class="feature-value" id="display_phi5">1.0</div>
                    </div>
                    <div class="feature-result" id="result6">
                        <div class="feature-name">φ₆ - Cross 0.7</div>
                        <div class="feature-value" id="display_phi6">1.0</div>
                    </div>
                </div>

                <div class="final-decision" id="finalDecision">
                    <div class="decision-label">🌳 Random Forest Decision:</div>
                    <div class="decision-result" id="decisionText">FALLING</div>
                    <div class="decision-confidence" id="decisionConfidence">Confidence: 89%</div>
                    <div style="font-size: 0.8em; margin-top: 8px; color: #2c5aa0;" id="decisionReason">
                        Strong up-crossing pattern detected
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <button class="control-btn" onclick="startStory()">▶️ Calculate</button>
            <button class="control-btn" onclick="resetStory()">🔄 Reset</button>
            <button class="control-btn" onclick="changeData()">🎲 New Scenario</button>
        </div>
    </div>



        <!-- Slide 28: Video Documentary -->
<div class="slide">
    <div class="slide-header">
        <h2>🎬 Project Video Documentary</h2>
        <div class="slide-number">34/35</div>
    </div>
    <div class="slide-content">
        <div class="highlight-box" style="text-align: center; margin-bottom: 20px;">
            <h3>📽️ Complete Project Journey: From Dataset Collection to Deployment</h3>
            <p>Comprehensive visual documentation of the entire PhD research process, showcasing real-world implementation and breakthrough achievements</p>
        </div>
        
        <div class="video-container" style="position: relative; width: 100%; max-width: 900px; margin: 0 auto; background: #000; border-radius: 15px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.3);">
            <video 
                id="projectVideo" 
                controls 
                style="width: 100%; height: auto; display: block;"
                poster="./thumbnail.jpeg"
                preload="metadata"
            >
                <source src="./documentry.MP4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            
            <!-- Custom play button overlay -->
            <div id="customPlayBtn" class="custom-play-button" onclick="playVideo()" style="
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 80px;
                height: 80px;
                background: linear-gradient(135deg, #2c5aa0, #764ba2);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(44,90,160,0.4);
                transition: all 0.3s ease;
                opacity: 0.9;
            ">
                <div style="
                    width: 0;
                    height: 0;
                    border-left: 25px solid white;
                    border-top: 15px solid transparent;
                    border-bottom: 15px solid transparent;
                    margin-left: 5px;
                "></div>
            </div>
            
            <!-- Fullscreen button -->
            <button onclick="toggleVideoFullscreen()" style="
                position: absolute;
                bottom: 15px;
                right: 15px;
                background: rgba(44,90,160,0.8);
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 12px;
                backdrop-filter: blur(5px);
                opacity: 0;
                transition: opacity 0.3s ease;
            " class="fullscreen-btn">⛶ Fullscreen</button>
        </div>
        
        <div style="display: flex; justify-content: space-between; gap: 30px; margin: 30px 0;">
            <div class="achievement-box" style="flex: 1;">
                <h3>🎯 Video Content Highlights</h3>
                <div class="bullet-point">
                    <div class="bullet-icon">📊</div>
                    <div><strong>Dataset Collection:</strong> Real construction site data gathering process</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🧠</div>
                    <div><strong>AI Model Training:</strong> CNN architecture development and testing</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">⚡</div>
                    <div><strong>STM32 Deployment:</strong> Real-time embedded system implementation</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🦺</div>
                    <div><strong>Safety Jacket Integration:</strong> Complete wearable system demonstration</div>
                </div>
            </div>
            
            <div class="highlight-box" style="flex: 1;">
                <h3>🎬 Documentary Specifications</h3>
                <div class="bullet-point">
                    <div class="bullet-icon">⏱️</div>
                    <div><strong>Duration:</strong> Comprehensive project overview</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">📈</div>
                    <div><strong>Coverage:</strong> Full development lifecycle visualization</div>
                </div>
                <div class="bullet-point">
                    <div class="bullet-icon">🎯</div>
                    <div><strong>Focus:</strong> Real-world deployment validation</div>
                </div>
            </div>
        </div>
        
        <div class="conclusion-highlight">
            <h2>📽️ Visual Proof of Concept Excellence</h2>
            <p>This documentary provides comprehensive visual evidence of the complete research-to-deployment pipeline, demonstrating both technical innovation and practical implementation success in real-world construction environments.</p>
        </div>
    </div>
</div>

        
        
<!-- References Slide -->
<div class="slide">
    <div class="slide-header">
        <h2>References</h2>
        <div class="slide-number">35/35</div>
    </div>
    <div class="slide-content">
        <div style="font-size: 12px; line-height: 1.4; columns: 1; column-gap: 30px;">
            
            <div style="margin-bottom: 10px;">
                <strong>[1]</strong> Muhammad Toqeer Ali, Cristian Turetta, Florenc Demrozi, and Graziano Pravadelli, "ICT-Based Solutions for Alzheimer's Disease Care: A Systematic Review," IEEE Access, vol. 12, pp. 13952-13980, 2024, doi: 10.1109/ACCESS.2024.3358348.
            </div>
            
            <div style="margin-bottom: 10px;">
                <strong>[2]</strong> C. Turetta, Muhammad Toqeer Ali, F. Demrozi, and G. Pravadelli, "A Lightweight CNN for Real-Time Pre-Impact Fall Detection," in Design, Automation and Test in Europe Conference (DATE), 2025, pp. 1-6. (Best Paper Award)
            </div>
            
            <div style="margin-bottom: 10px;">
                <strong>[3]</strong> F. Demrozi, C. Turetta, and G. Pravadelli, "A low-power BAN for motor tasks assessment," in 2018 IEEE International Conference on Communications Workshops (ICC Workshops), 2018, pp. 1-6.
            </div>

            <div style="margin-bottom: 10px;">
                <strong>[4]</strong> Muhammad Toqeer Ali, C. Turetta, F. Demrozi, F. Al Machot, and G. Pravadelli, "A Lightweight CNN for Real-Time Pre-Impact Fall Detection (Extended Version)," IEEE Sensors Journal, 2025. (Manuscript)
            </div>
            
            <div style="margin-bottom: 10px;">
                <strong>[5]</strong> Prof. Graziano Pravadelli, University of Verona, Italy - IoT Systems and Assistive Technologies. 
                <a href="https://scholar.google.com/citations?user=Gf5YeFIAAAAJ&hl=it" target="_blank" style="color: #2c5aa0; text-decoration: none;">
                    [Google Scholar Profile]
                </a>
            </div>
            
            <div style="margin-bottom: 10px;">
                <strong>[6]</strong> Dr. Florenc Demrozi, University of Stavanger, Norway - Biomedical Engineering and Sensor Applications. 
                <a href="https://scholar.google.com/citations?user=gF5XNDIAAAAJ&hl=it" target="_blank" style="color: #2c5aa0; text-decoration: none;">
                    [Google Scholar Profile]
                </a>
            </div>

            <div style="margin-bottom: 10px;">
                <strong>[7]</strong> Dr. Fadi Al Machot, Norwegian University of Life Sciences - Machine Learning and Data Augmentation. 
                <a href="https://scholar.google.com/citations?user=5ivk5WQAAAAJ&hl=en" target="_blank" style="color: #2c5aa0; text-decoration: none;">
                    [Google Scholar Profile]
                </a>
            </div>
            
        </div>
        
        <div class="highlight-box" style="margin-top: 30px;">
            <h3>📊 Publication Impact Summary</h3>
            <div style="display: flex; justify-content: space-around; margin: 20px 0;">
                <div style="text-align: center;">
                    <div style="font-size: 2em; color: #2c5aa0; font-weight: bold;">3</div>
                    <div>Major Publications</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2em; color: #2c5aa0; font-weight: bold;">1</div>
                    <div>Best Paper Award</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2em; color: #2c5aa0; font-weight: bold;">2,459</div>
                    <div>Papers Analyzed</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2em; color: #2c5aa0; font-weight: bold;">2</div>
                    <div>Countries Collaborated</div>
                </div>
            </div>
        </div>
    </div>
                    <div style="text-align: center; margin: 40px 0;">
                    <h2 style="color: #2c5aa0; font-size: 2em;">Thank You</h2>
                    <p style="font-size: 1.2em; color: #666; margin-top: 20px;">
                        <strong>Questions and Discussion</strong><br>
                        Muhammad Toqeer Ali | PhD in Computer Science<br>
                        Università di Verona | October 2025
                    </p>
                </div>

    
</div>

    </div>

   <!-- Floating Comment Button -->
    <button class="floating-comment-btn" id="commentBtn" onclick="openCommentPanel()">
        💬
        <span class="comment-badge" id="commentBadge">0</span>
    </button>

    <!-- Comment Panel Overlay -->
    <div class="comment-overlay" id="commentOverlay" onclick="closeCommentPanel(event)">
        <div class="comment-panel" onclick="event.stopPropagation()">
            <h3>
                Comments for Slide <span id="currentSlideNum">1</span>
                <button class="close-btn" onclick="closeCommentPanel()">&times;</button>
            </h3>
            
            <div class="comment-list" id="commentList">
                <div class="no-comments">
                    No comments yet. Be the first to add feedback!
                </div>
            </div>

            <div class="comment-form">
                <div class="form-group">
                    <label for="authorName">Your Name:</label>
                    <input type="text" id="authorName" placeholder="Enter your name" maxlength="50">
                </div>
                <div class="form-group">
                    <label for="commentText">Your Comment:</label>
                    <textarea id="commentText" placeholder="Share your feedback or suggestions..." maxlength="500"></textarea>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" onclick="closeCommentPanel()">Cancel</button>
                    <button class="btn btn-primary" onclick="addComment()">Add Comment</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">◀ Previous</button>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next ▶</button>
        <button class="nav-btn" onclick="toggleFullscreen()">⛶ Fullscreen</button>
    </div>


    <script>
        // Global variables
        let currentSlideIndex = 0;
        let comments = {}; // Store comments by slide index
        let commentsEnabled = true;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
    
        // Initialize the presentation
        function initPresentation() {
            document.getElementById('totalSlides').textContent = totalSlides;
            updateSlideDisplay();
            updateCommentBadge();
            
            // Load saved comments from Vercel API
            loadCommentsFromStorage();
        }
    
        // Navigate to specific slide
        function goToSlide(index) {
            if (index >= 0 && index < totalSlides) {
                currentSlideIndex = index;
                updateSlideDisplay();
            }
        }
    
        // Previous slide
        function changeSlide(direction) {
            const newIndex = currentSlideIndex + direction;
            if (newIndex >= 0 && newIndex < totalSlides) {
                currentSlideIndex = newIndex;
                updateSlideDisplay();
            }
        }
    
        // Update slide display
        function updateSlideDisplay() {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentSlideIndex].classList.add('active');
            
            // Update slide counter
            document.getElementById('currentSlide').textContent = currentSlideIndex + 1;
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentSlideIndex === 0;
            document.getElementById('nextBtn').disabled = currentSlideIndex === totalSlides - 1;
            
            // Update comment badge
            updateCommentBadge();
            
            // Trigger animations for slide content
            const slideContent = slides[currentSlideIndex].querySelector('.slide-content');
            if (slideContent) {
                slideContent.style.animation = 'none';
                setTimeout(() => {
                    slideContent.style.animation = '';
                }, 10);
            }
        }
    
        // Toggle fullscreen
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                document.body.classList.add('presentation-mode');
            } else {
                document.exitFullscreen();
                document.body.classList.remove('presentation-mode');
            }
        }
    
        // Toggle comments system
        function toggleCommentsSystem() {
            const enabled = document.getElementById('enableComments').checked;
            commentsEnabled = enabled;
            
            if (enabled) {
                document.body.classList.remove('comments-disabled');
            } else {
                document.body.classList.add('comments-disabled');
                closeCommentPanel();
            }
        }
    
        // Open comment panel
        function openCommentPanel() {
            if (!commentsEnabled) return;
            
            document.getElementById('commentOverlay').classList.add('active');
            document.getElementById('currentSlideNum').textContent = currentSlideIndex + 1;
            loadCommentsForCurrentSlide();
            
            // Clear form
            document.getElementById('authorName').value = '';
            document.getElementById('commentText').value = '';
        }
    
        // Close comment panel
        function closeCommentPanel(event) {
            if (event && event.target !== event.currentTarget) return;
            document.getElementById('commentOverlay').classList.remove('active');
        }
    
        // Load comments for current slide
        function loadCommentsForCurrentSlide() {
            console.log('=== LOAD COMMENTS FOR SLIDE DEBUG ===');
            console.log('Current slide index:', currentSlideIndex);
            console.log('All comments:', comments);
            
            const commentList = document.getElementById('commentList');
            const slideComments = comments[currentSlideIndex] || [];
            
            console.log('Comments for this slide:', slideComments);
            
            if (slideComments.length === 0) {
                commentList.innerHTML = '<div class="no-comments">No comments yet. Be the first to add feedback!</div>';
                console.log('No comments found, showing default message');
                return;
            }
            
            let html = '';
            slideComments.forEach((comment, index) => {
                html += `
                    <div class="comment-item">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                            <div style="flex: 1;">
                                <div class="comment-author">${escapeHtml(comment.author)}</div>
                                <div class="comment-time">${comment.timestamp}</div>
                                <div class="comment-text">${escapeHtml(comment.text)}</div>
                            </div>
                            <button onclick="deleteComment(${index})" style="background: #ff4757; color: white; border: none; border-radius: 50%; width: 25px; height: 25px; cursor: pointer; font-size: 12px; margin-left: 10px;">×</button>
                        </div>
                    </div>
                `;
            });
            
            console.log('Generated HTML:', html);
            commentList.innerHTML = html;
        }
        
        // Add this new function
        async function deleteComment(commentIndex) {
            if (confirm('Delete this comment?')) {
                comments[currentSlideIndex].splice(commentIndex, 1);
                
                // If no comments left for this slide, remove the slide key
                if (comments[currentSlideIndex].length === 0) {
                    delete comments[currentSlideIndex];
                }
                
                await saveCommentsToStorage();
                loadCommentsForCurrentSlide();
                updateCommentBadge();
                showNotification('Comment deleted!', 'success');
            }
        }
    
        // Add new comment
        async function addComment() {
            console.log('=== ADD COMMENT DEBUG ===');
            const author = document.getElementById('authorName').value.trim();
            const text = document.getElementById('commentText').value.trim();
            
            console.log('Author:', author, 'Text:', text);
            
            if (!author || !text) {
                showNotification('Please fill in both your name and comment!', 'warning');
                return;
            }
            
            // Initialize comments array for this slide if needed
            if (!comments[currentSlideIndex]) {
                comments[currentSlideIndex] = [];
            }
            
            // Create comment object
            const comment = {
                author: author,
                text: text,
                timestamp: new Date().toLocaleString(),
                slideIndex: currentSlideIndex
            };
            
            console.log('Created comment:', comment);
            console.log('Current slide index:', currentSlideIndex);
            
            // Add comment
            comments[currentSlideIndex].push(comment);
            
            console.log('Comments after adding:', comments);
            
            // Save to Vercel API
            await saveCommentsToStorage();
            
            // Update displays immediately
            loadCommentsForCurrentSlide();
            updateCommentBadge();
            
            // Clear form
            document.getElementById('authorName').value = '';
            document.getElementById('commentText').value = '';
            
            // Show success feedback
            showNotification('Comment added successfully!', 'success');
        }
        
        // Update comment badge
        function updateCommentBadge() {
            let totalComments = 0;
            Object.values(comments).forEach(slideComments => {
                totalComments += slideComments.length;
            });
            
            const badge = document.getElementById('commentBadge');
            if (totalComments > 0) {
                badge.textContent = totalComments;
                badge.classList.add('show');
            } else {
                badge.classList.remove('show');
            }
        }
    
        // Export all comments
        function exportAllComments() {
            if (Object.keys(comments).length === 0) {
                showNotification('No comments to export!', 'warning');
                return;
            }
            
            const exportData = {
                presentationTitle: document.title,
                exportDate: new Date().toISOString(),
                totalSlides: totalSlides,
                comments: comments,
                summary: {
                    totalComments: Object.values(comments).reduce((sum, arr) => sum + arr.length, 0),
                    slidesWithComments: Object.keys(comments).length
                }
            };
            
            const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `presentation-comments-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Comments exported successfully!', 'success');
        }
    
        // Clear all comments
        async function clearAllComments() {
            if (confirm('Are you sure you want to delete all comments? This action cannot be undone.')) {
                comments = {};
                await saveCommentsToStorage();
                loadCommentsForCurrentSlide();
                updateCommentBadge();
                showNotification('All comments cleared!', 'success');
            }
        }
    
        // Load comments from Vercel API - FIXED for MongoDB
        async function loadCommentsFromStorage() {
            console.log('=== LOAD COMMENTS FROM API DEBUG ===');
            try {
                const response = await fetch('https://final-ppt.vercel.app/api/comments');
                console.log('API response status:', response.status);
        
                if (response.ok) {
                    const data = await response.json();
                    console.log('API response data:', data);
                    
                    // Handle both MongoDB format (with _id) and regular format
                    comments = data.comments || {};
                    console.log('Comments loaded:', comments);
                    
                    updateCommentBadge();
                    console.log('Comments loaded from Vercel API successfully');
                    
                    // If comment panel is open, refresh the display
                    if (document.getElementById('commentOverlay').classList.contains('active')) {
                        loadCommentsForCurrentSlide();
                    }
                } else {
                    throw new Error('Failed to load comments');
                }
            } catch (error) {
                console.error('Error loading comments:', error);
                showNotification('Could not load comments from server', 'warning');
                
                // Fallback to empty comments
                comments = {};
                updateCommentBadge();
            }
        }
        // Save comments to Vercel API
        async function saveCommentsToStorage() {
            console.log('=== SAVE COMMENTS DEBUG ===');
            console.log('Saving comments to API:', comments);
            try {
                const response = await fetch('https://final-ppt.vercel.app/api/comments', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ comments: comments })
                });
                
                console.log('Save response status:', response.status);
                
                if (response.ok) {
                    const result = await response.json();
                    console.log('Comments saved to Vercel:', result);
                    showNotification('Comments saved and shared with everyone!', 'success');
                } else {
                    console.error('Save failed with status:', response.status);
                    throw new Error('Failed to save comments');
                }
            } catch (error) {
                console.error('Error saving comments:', error);
                showNotification('Could not save comments to server', 'error');
                
                // Fallback to local storage
                localStorage.setItem('presentationComments', JSON.stringify(comments));
                showNotification('Comments saved locally as backup', 'warning');
            }
        }
        console.log('Script version 3 loaded');
        // Auto-refresh comments every 30 seconds to see others' comments
        // FIXED: Remove the conflicting condition
        setInterval(async () => {
            console.log('Auto-refreshing comments...');
            await loadCommentsFromStorage();
            
            // If comment panel is open, refresh the display
            if (document.getElementById('commentOverlay').classList.contains('active')) {
                loadCommentsForCurrentSlide();
            }
        }, 30000);
    
        // Utility function to escape HTML
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    
        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${type === 'success' ? '#28a745' : type === 'warning' ? '#ffc107' : type === 'error' ? '#dc3545' : '#007bff'};
                color: ${type === 'warning' ? '#000' : 'white'};
                padding: 15px 25px;
                border-radius: 25px;
                font-weight: 600;
                z-index: 10000;
                animation: slideDown 0.3s ease;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideUp 0.3s ease';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
    
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('commentOverlay').classList.contains('active')) {
                if (e.key === 'Escape') {
                    closeCommentPanel();
                }
                return;
            }
            
            switch(e.key) {
                case 'ArrowRight':
                case ' ':
                    e.preventDefault();
                    changeSlide(1);
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    changeSlide(-1);
                    break;
                case 'f':
                case 'F11':
                    e.preventDefault();
                    toggleFullscreen();
                    break;
                case 'c':
                case 'C':
                    e.preventDefault();
                    openCommentPanel();
                    break;
            }
        });
    
        // Auto-hide navigation in fullscreen
        let navigationTimeout;
        const navigation = document.querySelector('.navigation');
        const slideIndicator = document.querySelector('.slide-indicator');
    
        function resetNavigationTimeout() {
            clearTimeout(navigationTimeout);
            if (navigation) navigation.style.opacity = '1';
            if (slideIndicator) slideIndicator.style.opacity = '1';
            
        }
    
        document.addEventListener('mousemove', resetNavigationTimeout);
        document.addEventListener('keydown', resetNavigationTimeout);
        document.addEventListener('touchstart', resetNavigationTimeout);
    
        // Handle fullscreen change
        document.addEventListener('fullscreenchange', function() {
            if (document.fullscreenElement) {
                document.body.classList.add('presentation-mode');
                if (navigation) navigation.style.display = 'none';
                if (slideIndicator) slideIndicator.style.display = 'none';

            } else {
                document.body.classList.remove('presentation-mode');
                if (navigation) navigation.style.display = 'flex';  // restores the buttons
                if (slideIndicator) slideIndicator.style.display = 'block';
            }
        });

    
        // Initiali
        document.addEventListener('DOMContentLoaded', initPresentation);
    
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideDown {
                from { transform: translateX(-50%) translateY(-100%); }
                to { transform: translateX(-50%) translateY(0); }
            }
            @keyframes slideUp {
                from { transform: translateX(-50%) translateY(0); }
                to { transform: translateX(-50%) translateY(-100%); }
            }
        `;
        document.head.appendChild(style);

                // Video control functions
        function playVideo() {
            const video = document.getElementById('projectVideo');
            const playBtn = document.getElementById('customPlayBtn');
            
            video.play();
            playBtn.style.opacity = '0';
            
            // Show fullscreen button on hover
            const container = video.parentElement;
            const fullscreenBtn = container.querySelector('.fullscreen-btn');
            
            container.addEventListener('mouseenter', () => {
                fullscreenBtn.style.opacity = '1';
            });
            
            container.addEventListener('mouseleave', () => {
                fullscreenBtn.style.opacity = '0';
            });
        }
        
        function toggleVideoFullscreen() {
            const video = document.getElementById('projectVideo');
            if (video.requestFullscreen) {
                video.requestFullscreen();
            } else if (video.webkitRequestFullscreen) {
                video.webkitRequestFullscreen();
            } else if (video.mozRequestFullScreen) {
                video.mozRequestFullScreen();
            }
        }
        
        // Auto-hide custom play button when video starts
        document.getElementById('projectVideo').addEventListener('play', function() {
            document.getElementById('customPlayBtn').style.display = 'none';
        });
        
        document.getElementById('projectVideo').addEventListener('pause', function() {
            if (this.currentTime === 0) {
                document.getElementById('customPlayBtn').style.display = 'flex';
            }
        });
        
        // Reset video when leaving slide
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' || e.key === ' ') {
                const video = document.getElementById('projectVideo');
                if (video && !video.paused) {
                    video.pause();
                }
            }
        });

        let currentStep = 0;
        let storyRunning = false;
        let currentFeatures = {phi1: 0, phi2: 0, phi3: 0, phi4: 0, phi5: 0, phi6: 0};

        const sampleDataSets = [
            {
                p1: 0.3, p2: 0.8, 
                scenario: "Late Fall Detection",
                expected: "FALLING",
                confidence: 89,
                reason: "Strong up-crossing pattern detected"
            },
            {
                p1: 0.9, p2: 0.2, 
                scenario: "Early False Alarm", 
                expected: "ACTIVITY",
                confidence: 76,
                reason: "Peak too early, likely false positive"
            },
            {
                p1: 0.7, p2: 0.95, 
                scenario: "Strong Fall Pattern",
                expected: "FALLING", 
                confidence: 94,
                reason: "High confidence with strong progression"
            },
            {
                p1: 0.2, p2: 0.4, 
                scenario: "Normal Activity",
                expected: "ACTIVITY",
                confidence: 91,
                reason: "Low confidence throughout, normal movement"
            },
            {
                p1: 0.1, p2: 0.9,
                scenario: "Sudden Impact Fall",
                expected: "FALLING",
                confidence: 87,
                reason: "Dramatic confidence increase indicates fall"
            }
        ];
        let currentDataSet = 0;

        function calculateFeatures(p1, p2) {
            const features = {};
            
            // φ₁: Mean confidence
            features.phi1 = (p1 + p2) / 2;
            
            // φ₂: Peak position (normalized)
            features.phi2 = p1 > p2 ? 0.0 : 0.5;
            
            // φ₃: Fraction above 0.5
            const above05 = (p1 >= 0.5 ? 1 : 0) + (p2 >= 0.5 ? 1 : 0);
            features.phi3 = above05 / 2;
            
            // φ₄: Fraction above 0.7
            const above07 = (p1 >= 0.7 ? 1 : 0) + (p2 >= 0.7 ? 1 : 0);
            features.phi4 = above07 / 2;
            
            // φ₅: Up-crossing 0.5
            features.phi5 = (p1 < 0.5 && p2 >= 0.5) ? 1.0 : 0.0;
            
            // φ₆: Up-crossing 0.7
            features.phi6 = (p1 < 0.7 && p2 >= 0.7) ? 1.0 : 0.0;
            
            return features;
        }

        function updateCalculations(data) {
            const features = calculateFeatures(data.p1, data.p2);
            currentFeatures = features;
            
            // Update all calculation displays
            document.getElementById('calc_p1').textContent = data.p1;
            document.getElementById('calc_p2').textContent = data.p2;
            document.getElementById('result_phi1').textContent = features.phi1.toFixed(2);
            
            document.getElementById('peak_pos').textContent = data.p1 > data.p2 ? '0' : '1';
            document.getElementById('result_phi2').textContent = features.phi2.toFixed(1);
            
            const count05 = (data.p1 >= 0.5 ? 1 : 0) + (data.p2 >= 0.5 ? 1 : 0);
            document.getElementById('count_05').textContent = count05;
            document.getElementById('result_phi3').textContent = features.phi3.toFixed(1);
            
            const count07 = (data.p1 >= 0.7 ? 1 : 0) + (data.p2 >= 0.7 ? 1 : 0);
            document.getElementById('count_07').textContent = count07;
            document.getElementById('result_phi4').textContent = features.phi4.toFixed(1);
            
            document.getElementById('cross_05').textContent = features.phi5 === 1.0 ? '1' : '0';
            document.getElementById('result_phi5').textContent = features.phi5.toFixed(1);
            
            document.getElementById('cross_07').textContent = features.phi6 === 1.0 ? '1' : '0';
            document.getElementById('result_phi6').textContent = features.phi6.toFixed(1);
            
            // Update feature result displays
            document.getElementById('display_phi1').textContent = features.phi1.toFixed(2);
            document.getElementById('display_phi2').textContent = features.phi2.toFixed(1);
            document.getElementById('display_phi3').textContent = features.phi3.toFixed(1);
            document.getElementById('display_phi4').textContent = features.phi4.toFixed(1);
            document.getElementById('display_phi5').textContent = features.phi5.toFixed(1);
            document.getElementById('display_phi6').textContent = features.phi6.toFixed(1);
        }

        function startStory() {
            if (storyRunning) return;
            storyRunning = true;
            currentStep = 0;
            
            document.getElementById('mathChar').classList.add('working');
            
            // Start the animation sequence
            animateStory();
        }

        function animateStory() {
            const steps = [
                () => highlightData(),
                () => showSteps(1, 2),
                () => showSteps(3, 4), 
                () => showSteps(5, 6),
                () => showSteps(7, 8),
                () => showSteps(9, 10),
                () => showSteps(11, 12),
                () => showFeatureResults(),
                () => showFinalDecision(),
                () => completeStory()
            ];

            if (currentStep < steps.length) {
                steps[currentStep]();
                currentStep++;
                setTimeout(animateStory, 1800);
            }
        }

        function highlightData() {
            document.getElementById('segment1').classList.add('highlight');
            document.getElementById('segment2').classList.add('highlight');
            updateProgress(10);
        }

        function showSteps(step1, step2) {
            document.getElementById(`step${step1}`).classList.add('visible');
            setTimeout(() => {
                document.getElementById(`step${step2}`).classList.add('visible', 'highlight');
            }, 600);
            updateProgress(10 + currentStep * 10);
        }

        function showFeatureResults() {
            const results = document.querySelectorAll('.feature-result');
            results.forEach((result, index) => {
                setTimeout(() => {
                    result.classList.add('show');
                }, index * 200);
            });
            updateProgress(85);
        }

        function showFinalDecision() {
            const data = sampleDataSets[currentDataSet];
            const decision = document.getElementById('finalDecision');
            
            decision.classList.remove('falling', 'activity');
            decision.classList.add(data.expected.toLowerCase());
            
            document.getElementById('decisionText').textContent = data.expected;
            document.getElementById('decisionText').style.color = data.expected === 'FALLING' ? '#ff6b6b' : '#4ecdc4';
            document.getElementById('decisionConfidence').textContent = `Confidence: ${data.confidence}%`;
            document.getElementById('decisionReason').textContent = data.reason;
            
            decision.classList.add('show');
            updateProgress(100);
        }

        function completeStory() {
            document.getElementById('mathChar').classList.remove('working');
            document.getElementById('mathChar').innerHTML = '✅';
            
            setTimeout(() => {
                storyRunning = false;
                document.getElementById('mathChar').innerHTML = '🤖';
            }, 2000);
        }

        function updateProgress(percent) {
            document.getElementById('progressFill').style.width = percent + '%';
        }

        function resetStory() {
            storyRunning = false;
            currentStep = 0;
            
            // Reset all elements
            document.querySelectorAll('.calculation-step').forEach(step => {
                step.classList.remove('visible', 'highlight');
            });
            
            document.querySelectorAll('.feature-result').forEach(result => {
                result.classList.remove('show');
            });
            
            document.querySelectorAll('.data-point').forEach(point => {
                point.classList.remove('highlight');
            });
            
            document.getElementById('finalDecision').classList.remove('show', 'falling', 'activity');
            document.getElementById('mathChar').classList.remove('working');
            document.getElementById('mathChar').innerHTML = '🤖';
            
            updateProgress(0);
        }

        function changeData() {
            currentDataSet = (currentDataSet + 1) % sampleDataSets.length;
            const data = sampleDataSets[currentDataSet];
            
            // Update data display
            document.getElementById('p1Value').textContent = `p₁ = ${data.p1}`;
            document.getElementById('p2Value').textContent = `p₂ = ${data.p2}`;
            document.getElementById('scenarioName').textContent = data.scenario;
            
            // Update calculations
            updateCalculations(data);
            
            resetStory();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const initialData = sampleDataSets[0];
            updateCalculations(initialData);
        });

        // Pipeline Animation Functions
        let pipelineAnimationActive = false;
        let pipelineTimeouts = [];

        function startPipelineAnimation() {
            if (pipelineAnimationActive) return;
            
            pipelineAnimationActive = true;
            resetPipelineAnimation();
            
            // Stage 1: Show data packet and first stage
            // Stage 1: Show data packet and first stage
            pipelineTimeouts.push(setTimeout(() => {
                const dataPacket = document.getElementById('dataPacket');
                const stage1 = document.getElementById('stage1');
                
                dataPacket.classList.add('active');
                stage1.classList.add('active');
                stage1.classList.add('highlight');
                
                // Remove highlight after 2 seconds
                pipelineTimeouts.push(setTimeout(() => {
                    stage1.classList.remove('highlight');
                }, 2000));
            }, 500));

            // Stage 2: Move packet and activate stage 2
            pipelineTimeouts.push(setTimeout(() => {
                const dataPacket = document.getElementById('dataPacket');
                const stage2 = document.getElementById('stage2');

                // Move packet to stage 2 (same row)
                dataPacket.style.left = '370px';
                dataPacket.style.top = '60px';
                
                stage2.classList.add('active');
                stage2.classList.add('highlight');
                
                pipelineTimeouts.push(setTimeout(() => {
                    stage2.classList.remove('highlight');
                }, 2000));
            }, 3000));

            // Stage 3: Move to CNN stage (same row)
            pipelineTimeouts.push(setTimeout(() => {
                const dataPacket = document.getElementById('dataPacket');
                const stage3 = document.getElementById('stage3');
                
                dataPacket.style.left = '770px';
                dataPacket.style.top = '60px';
                
                stage3.classList.add('active');
                stage3.classList.add('highlight');
                
                // Animate augmentation methods (only one will be used)
                const augMethods = stage3.querySelectorAll('.aug-method');
                // Highlight one method at a time to show selection
                augMethods.forEach((method, index) => {
                    pipelineTimeouts.push(setTimeout(() => {
                        method.style.animation = 'pulseHighlight 1s ease';
                        method.style.transform = 'scale(1.2)';
                        // Reset others
                        augMethods.forEach((other, otherIndex) => {
                            if (otherIndex !== index) {
                                other.style.opacity = '0.3';
                            }
                        });
                        
                        // Reset after selection
                        pipelineTimeouts.push(setTimeout(() => {
                            method.style.transform = 'scale(1)';
                            augMethods.forEach(other => {
                                other.style.opacity = '1';
                            });
                        }, 800));
                    }, index * 600));
                });
                
                // Animate CNN training process
                pipelineTimeouts.push(setTimeout(() => {
                    const foldInfo = stage3.querySelector('.cv-info');
                    if (foldInfo) {
                        foldInfo.style.animation = 'pulseHighlight 2s ease';
                    }
                }, 2000));
                
                pipelineTimeouts.push(setTimeout(() => {
                    stage3.classList.remove('highlight');
                }, 3000));
            }, 5500));

            // Stage 4: Event-level processing (still in row 1)
            pipelineTimeouts.push(setTimeout(() => {
                const dataPacket = document.getElementById('dataPacket');
                const stage4 = document.getElementById('stage4');
                
                // Move to stage 4 (end of row 1)
                dataPacket.style.left = '1400px';
                dataPacket.style.top = '60px';
                
                stage4.classList.add('active');
                stage4.classList.add('highlight');
                
                // Animate CNN outputs (5 folds)
                const foldOutputs = stage4.querySelectorAll('.fold-output');
                foldOutputs.forEach((fold, index) => {
                    pipelineTimeouts.push(setTimeout(() => {
                        fold.style.background = '#2196f3';
                        fold.style.transform = 'scale(1.1)';
                        pipelineTimeouts.push(setTimeout(() => {
                            fold.style.background = '#4caf50';
                            fold.style.transform = 'scale(1)';
                        }, 300));
                    }, index * 200));
                });
                
                // Animate feature extraction
                const features = stage4.querySelectorAll('.feature');
                features.forEach((feature, index) => {
                    pipelineTimeouts.push(setTimeout(() => {
                        feature.style.background = '#9c27b0';
                        feature.style.color = 'white';
                        feature.style.padding = '2px 4px';
                        feature.style.borderRadius = '3px';
                        pipelineTimeouts.push(setTimeout(() => {
                            feature.style.background = '';
                            feature.style.color = '#9c27b0';
                            feature.style.padding = '0px 1px';
                            feature.style.borderRadius = '';
                        }, 500));
                    }, 1000 + index * 200));
                });
                
                // Animate RF training
                pipelineTimeouts.push(setTimeout(() => {
                    const rfCv = stage4.querySelector('.rf-cv');
                    if (rfCv) {
                        rfCv.style.animation = 'pulseHighlight 1.5s ease';
                    }
                }, 2500));
                
                pipelineTimeouts.push(setTimeout(() => {
                    stage4.classList.remove('highlight');
                }, 3500));
            }, 9000));


            // Stage 5: Final deployment (centered in row 2)
            pipelineTimeouts.push(setTimeout(() => {
                const dataPacket = document.getElementById('dataPacket');
                const stage5 = document.getElementById('stage5');
                
                // Move to center of row 2
                dataPacket.style.left = '600px';
                dataPacket.style.top = '310px';
                
                stage5.classList.add('active');
                stage5.classList.add('highlight');
                
                // Animate deployment flow
                const flowSteps = stage5.querySelectorAll('.flow-step');
                flowSteps.forEach((step, index) => {
                    pipelineTimeouts.push(setTimeout(() => {
                        step.style.background = 'linear-gradient(135deg, #4caf50, #2e7d32)';
                        step.style.color = 'white';
                        step.style.transform = 'scale(1.1)';
                        pipelineTimeouts.push(setTimeout(() => {
                            if (!step.classList.contains('decision')) {
                                step.style.background = '#e3f2fd';
                                step.style.color = '#2c5aa0';
                            }
                            step.style.transform = 'scale(1)';
                        }, 600));
                    }, index * 300));
                });
                
                // Final pulse animation for the data packet
                pipelineTimeouts.push(setTimeout(() => {
                    const dataPacket = document.getElementById('dataPacket');
                    dataPacket.style.animation = 'pulseHighlight 2s infinite';
                    // Change packet to show final result
                    const packetIcon = dataPacket.querySelector('.packet-icon');
                    const packetLabel = dataPacket.querySelector('.packet-label');
                    packetIcon.textContent = '✅';
                    packetLabel.textContent = 'Decision';
                    dataPacket.style.background = 'linear-gradient(135deg, #4caf50, #2e7d32)';
                }, 1800));
                
                pipelineTimeouts.push(setTimeout(() => {
                    stage5.classList.remove('highlight');
                }, 3000));
            }, 10500));

            // Mark animation as complete
            pipelineTimeouts.push(setTimeout(() => {
                pipelineAnimationActive = false;
            }, 14000));
        }

        function resetPipelineAnimation() {
            // Clear all timeouts
            pipelineTimeouts.forEach(timeout => clearTimeout(timeout));
            pipelineTimeouts = [];
            
            // Reset data packet
            const dataPacket = document.getElementById('dataPacket');
            if (dataPacket) {
                dataPacket.classList.remove('active', 'moving');
                dataPacket.style.left = '50px';
                dataPacket.style.top = '50px';
                dataPacket.style.animation = '';
                dataPacket.style.background = 'linear-gradient(135deg, #ff6b6b, #ee5a24)';
                
                const packetIcon = dataPacket.querySelector('.packet-icon');
                const packetLabel = dataPacket.querySelector('.packet-label');
                if (packetIcon) packetIcon.textContent = '📊';
                if (packetLabel) packetLabel.textContent = 'IMU Data';
            }
            
            // Reset all stages
            const stages = document.querySelectorAll('.pipeline-stage');
            stages.forEach(stage => {
                stage.classList.remove('active', 'highlight');
            });
            
            // Reset all enhanced elements
            const augMethods = document.querySelectorAll('.aug-method');
            augMethods.forEach(method => {
                method.style.animation = '';
            });
            
            const features = document.querySelectorAll('.feature');
            features.forEach(feature => {
                feature.style.background = '';
                feature.style.color = '#9c27b0';
                feature.style.padding = '';
                feature.style.borderRadius = '';
            });
            
            const flowSteps = document.querySelectorAll('.flow-step');
            flowSteps.forEach(step => {
                if (!step.classList.contains('decision')) {
                    step.style.background = '#e3f2fd';
                    step.style.color = '#2c5aa0';
                }
                step.style.transform = 'scale(1)';
            });
            
            pipelineAnimationActive = false;
        }

        // Auto-start animation on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                startPipelineAnimation();
            }, 1000);
        });

        // Keyboard controls
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case ' ':
                case 'Enter':
                    e.preventDefault();
                    if (pipelineAnimationActive) {
                        resetPipelineAnimation();
                    } else {
                        startPipelineAnimation();
                    }
                    break;
                case 'r':
                case 'R':
                    e.preventDefault();
                    resetPipelineAnimation();
                    break;
            }
        });





        // Data structure with real implementation results
        const augmentationData = {
            vae: {
                name: "VAE",
                title: "VAE Configuration",
                color: "#3b82f6",
                folds: [
                    { activity: 588646, original: 6662, synthetic: 13324, total: 33310, ratio: "17.7:1", beforeRatio: "88.3:1" },
                    { activity: 660284, original: 6516, synthetic: 13032, total: 32580, ratio: "20.3:1", beforeRatio: "101.3:1" },
                    { activity: 578530, original: 6346, synthetic: 12692, total: 31730, ratio: "18.2:1", beforeRatio: "91.2:1" },
                    { activity: 893222, original: 5933, synthetic: 11866, total: 29665, ratio: "30.1:1", beforeRatio: "150.5:1" },
                    { activity: 517556, original: 6295, synthetic: 12590, total: 31475, ratio: "16.4:1", beforeRatio: "82.2:1" }
                ],
                totalActivity: "3,238,238",
                totalFalls: "31,752",
                avgSynthetic: "+63,504",
                params: {
                    "Model Params": "59.7K",
                    "Model Size": "0.239 MB",
                    "Training Modules": "21",
                    "Batch Size": "128",
                    "Learning Rate": "0.001079",
                    "Alpha Value": "0.01397",
                    "Architecture": "CNN + VAE Augmentation"
                },
                metrics: {
                    "Average MMD": "0.004374",
                    "Average FID": "57.54",
                    "MMD Range": "0.003672 - 0.005542",
                    "FID Range": "47.33 - 73.02",
                    "Generation Ratio": "2:1",
                    "Quality Filter": "Reconstruction Error"
                }
            },
            gan: {
                name: "TimeGAN",
                title: "TimeGAN Configuration",
                color: "#f97316",
                folds: [
                    { activity: 588646, original: 6662, synthetic: 6595, total: 26581, ratio: "22.1:1", beforeRatio: "88.3:1" },
                    { activity: 660284, original: 6516, synthetic: 6448, total: 25996, ratio: "25.4:1", beforeRatio: "101.3:1" },
                    { activity: 578530, original: 6346, synthetic: 6272, total: 25310, ratio: "22.9:1", beforeRatio: "91.2:1" },
                    { activity: 893222, original: 5933, synthetic: 5873, total: 23672, ratio: "37.7:1", beforeRatio: "150.5:1" },
                    { activity: 517556, original: 6295, synthetic: 6232, total: 25117, ratio: "20.6:1", beforeRatio: "82.2:1" }
                ],
                totalActivity: "3,238,238",
                totalFalls: "31,752",
                avgSynthetic: "+31,420",
                params: {
                    "Model Params": "59.7K",
                    "Model Size": "0.239 MB",
                    "Training Modules": "21",
                    "Batch Size": "128",
                    "Learning Rate": "0.001079",
                    "Alpha Value": "0.01397",
                    "Architecture": "CNN + TimeGAN Augmentation"
                },
                metrics: {
                    "Training Steps": "3-Phase Process",
                    "Step 1": "Pretraining Embedder",
                    "Step 2": "Training Supervisor", 
                    "Step 3": "Adversarial Training",
                    "Generation Ratio": "~1:1",
                    "Quality Filter": "Temporal Coherence"
                }
            },
            hybrid: {
                name: "VAE-GAN",
                title: "VAE-GAN Hybrid Configuration", 
                color: "#8b5cf6",
                folds: [
                    { activity: 588646, original: 6662, synthetic: 33310, total: 39972, ratio: "14.7:1", beforeRatio: "88.3:1" },
                    { activity: 660284, original: 6516, synthetic: 32580, total: 39096, ratio: "16.9:1", beforeRatio: "101.3:1" },
                    { activity: 578530, original: 6346, synthetic: 31730, total: 38076, ratio: "15.2:1", beforeRatio: "91.2:1" },
                    { activity: 893222, original: 5933, synthetic: 29665, total: 35598, ratio: "25.1:1", beforeRatio: "150.5:1" },
                    { activity: 517556, original: 6295, synthetic: 31475, total: 37770, ratio: "13.7:1", beforeRatio: "82.2:1" }
                ],
                totalActivity: "3,238,238",
                totalFalls: "31,752",
                avgSynthetic: "+158,760",
                params: {
                    "Model Params": "59.7K",
                    "Model Size": "0.239 MB",
                    "Training Modules": "21",
                    "Batch Size": "128",
                    "Learning Rate": "0.001079",
                    "Alpha Value": "0.01397",
                    "Architecture": "CNN + VAE-GAN Hybrid"
                },
                metrics: {
                    "VAE MMD": "0.005940",
                    "GAN MMD": "0.705657",
                    "VAE FID": "78.38",
                    "GAN FID": "350.15",
                    "Generation Ratio": "5:1",
                    "Quality Filter": "Combined VAE+GAN"
                }
            }
        };

        let currentMethod = 'vae';
        let isAnimating = false;

        // Initialize the application
        function init() {
            console.log('Initializing application...');
            createFoldCards();
            updateDisplay();
            setupEventListeners();
            console.log('Application initialized successfully');
        }

        // Create fold cards
        function createFoldCards() {
            const container = document.getElementById('foldsContainer');
            container.innerHTML = '';

            for (let i = 1; i <= 5; i++) {
                const foldCard = document.createElement('div');
                foldCard.className = 'fold-card';
                foldCard.innerHTML = `
                    <div class="fold-header">📁 Fold ${i}</div>
                    <div class="subject-info">Train: 44 | Val: 12 | Test: 15</div>
                    <div class="data-section">
                        <div class="before-section">
                            <div class="section-title">⚠️ Before</div>
                            <div class="data-row">
                                <span class="data-label">Activity:</span>
                                <span class="data-value activity-value" data-activity="${i}">0</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Falling:</span>
                                <span class="data-value falling-value" data-before-falling="${i}">0</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Ratio:</span>
                                <span class="data-value ratio-value" data-before-ratio="${i}">0:1</span>
                            </div>
                        </div>
                        <div class="after-section">
                            <div class="section-title">✅ After</div>
                            <div class="data-row">
                                <span class="data-label">Original:</span>
                                <span class="data-value falling-value" data-original="${i}">0</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Synthetic:</span>
                                <span class="data-value synthetic-value" data-synthetic="${i}">+0</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Total:</span>
                                <span class="data-value total-value" data-total="${i}">0</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Ratio:</span>
                                <span class="data-value ratio-value" data-after-ratio="${i}">0:1</span>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(foldCard);
            }
        }

        // Update display based on current method
        function updateDisplay() {
            console.log(`Updating display for method: ${currentMethod}`);
            const data = augmentationData[currentMethod];
            
            if (!data) {
                console.error(`No data found for method: ${currentMethod}`);
                return;
            }

            // Update overview stats
            document.getElementById('totalSubjects').textContent = '71';
            document.getElementById('totalActivity').textContent = data.totalActivity;
            document.getElementById('totalFalls').textContent = data.totalFalls;
            document.getElementById('avgSynthetic').textContent = data.avgSynthetic;

            // Update method title
            document.getElementById('methodTitle').textContent = data.title;

            // Update model parameters
            const paramsContainer = document.getElementById('modelParams');
            paramsContainer.innerHTML = '';
            Object.entries(data.params).forEach(([key, value]) => {
                const paramRow = document.createElement('div');
                paramRow.className = 'param-row';
                paramRow.innerHTML = `
                    <span class="param-label">${key}:</span>
                    <span class="param-value">${value}</span>
                `;
                paramsContainer.appendChild(paramRow);
            });

            // Update performance metrics
            const metricsContainer = document.getElementById('performanceMetrics');
            metricsContainer.innerHTML = '';
            Object.entries(data.metrics).forEach(([key, value]) => {
                const metricItem = document.createElement('div');
                metricItem.className = 'metric-item';
                metricItem.innerHTML = `
                    <span class="metric-name">${key}</span>
                    <span class="metric-value">${value}</span>
                `;
                metricsContainer.appendChild(metricItem);
            });

            // Update fold data
            data.folds.forEach((fold, index) => {
                const foldIndex = index + 1;
                
                // Update all data points for this fold
                const activityEl = document.querySelector(`[data-activity="${foldIndex}"]`);
                const beforeFallingEl = document.querySelector(`[data-before-falling="${foldIndex}"]`);
                const beforeRatioEl = document.querySelector(`[data-before-ratio="${foldIndex}"]`);
                const originalEl = document.querySelector(`[data-original="${foldIndex}"]`);
                const syntheticEl = document.querySelector(`[data-synthetic="${foldIndex}"]`);
                const totalEl = document.querySelector(`[data-total="${foldIndex}"]`);
                const afterRatioEl = document.querySelector(`[data-after-ratio="${foldIndex}"]`);

                if (activityEl) activityEl.textContent = fold.activity.toLocaleString();
                if (beforeFallingEl) beforeFallingEl.textContent = fold.original.toLocaleString();
                if (beforeRatioEl) beforeRatioEl.textContent = fold.beforeRatio;
                if (originalEl) originalEl.textContent = fold.original.toLocaleString();
                if (syntheticEl) syntheticEl.textContent = `+${fold.synthetic.toLocaleString()}`;
                if (totalEl) totalEl.textContent = fold.total.toLocaleString();
                if (afterRatioEl) afterRatioEl.textContent = fold.ratio;
            });

            // Update active button
            document.querySelectorAll('.method-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            const activeBtn = document.querySelector(`[data-method="${currentMethod}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }

            console.log('Display updated successfully');
        }

        // Animate folds
        function animateFolds() {
            if (isAnimating) return;
            isAnimating = true;

            const foldCards = document.querySelectorAll('.fold-card');
            foldCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('processing');
                    setTimeout(() => {
                        card.classList.remove('processing');
                    }, 1000);
                }, index * 200);
            });

            setTimeout(() => {
                isAnimating = false;
            }, 2000);
        }

        // Setup event listeners
        function setupEventListeners() {
            console.log('Setting up event listeners...');
            
            // Method buttons
            document.querySelectorAll('.method-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const method = this.getAttribute('data-method');
                    console.log(`Method button clicked: ${method}`);
                    
                    if (method && method !== currentMethod) {
                        currentMethod = method;
                        updateDisplay();
                        animateFolds();
                    }
                });
            });

            console.log('Event listeners setup complete');
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...');
            init();
        });


    </script>
</body>
</html> 







































